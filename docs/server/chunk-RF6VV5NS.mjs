import { createRequire } from 'node:module';
globalThis['require'] ??= createRequire(import.meta.url);
import{a as Je,b as Mn}from"./chunk-P2MZKD6E.mjs";import{$ as Ls,D as L,E as As,F as Pe,G as Cs,H as Tn,I as Es,J as _s,K as Rs,L as xs,M as Ps,N as Is,O as vs,P as kn,Q as A,R as ws,S as O,T as Ts,U as Fn,V as ks,W as Ds,X as Ws,Y as Fs,Z as Gs,_ as zs,a as Nt,aa as Gn,b as Cn,ba as Os,c as Ht,ca as zn,d as En,da as $s,e as Ut,ea as Ln,f as _n,fa as Ms,g as Kt,ga as On,h as qt,ha as Ns,i as Rn,ia as Hs,j as jt,ja as $n,k as g,l as N,m as Bt,o as es,p as Ee,q as Ve,r as ts,s as ss,t as os,u as ns,v as vn,w as rs,x as bn,y as Re,z as as}from"./chunk-UVLFOUBM.mjs";import{a as ne,b as Dn,c as bs,d as Wn}from"./chunk-OXRWZM6G.mjs";import{C as Be,F as cs,G as y,H as xe,I as ds,M as ls,O as d,P as Se,R as ms,T as fs,U as H,V as us,W as ps,X as hs,Y as gs,Z as ys,a as Lt,aa as Ss,b as Ot,c as $t,e as Mt,ea as S,k as Vt,l as Jt,n as Qt,o as xn,p as Xt,q as Pn,t as Yt,u as Zt,v as In}from"./chunk-QNKP6SCQ.mjs";import{a as is,b as _e,d as wn}from"./chunk-HOM3E74A.mjs";import{a as r,b as h,e as f}from"./chunk-YJ4N4I6Q.mjs";function Nn(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sts",region:e.region},propertiesExtractor:(s,t)=>({signingProperties:{config:s,context:t}})}}function Us(e){return{schemeId:"smithy.api#noAuth"}}var Ks,qs,Hn,js,Qe=f(()=>{"use strict";Pe();Rn();Ae();Ks=async(e,s,t)=>({operation:Kt(s).operation,region:await qt(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});qs=e=>{let s=[];switch(e.operation){case"AssumeRoleWithSAML":{s.push(Us(e));break}case"AssumeRoleWithWebIdentity":{s.push(Us(e));break}default:s.push(Nn(e))}return s},Hn=e=>h(r({},e),{stsClientCtor:U}),js=e=>{let s=Hn(e),t=as(s);return r({},t)}});var Bs,C,F=f(()=>{"use strict";Bs=e=>h(r({},e),{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,useGlobalEndpoint:e.useGlobalEndpoint??!1,defaultSigningName:"sts"}),C={UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}});var Js,Vs=f(()=>{Js={name:"@aws-sdk/client-sts",description:"AWS SDK for JavaScript Sts Client for Node.js, Browser and React Native",version:"3.699.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline client-sts","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"rimraf ./dist-types tsconfig.types.tsbuildinfo && tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo sts",test:"yarn g:vitest run","test:watch":"yarn g:vitest watch"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/client-sso-oidc":"3.699.0","@aws-sdk/core":"3.696.0","@aws-sdk/credential-provider-node":"3.699.0","@aws-sdk/middleware-host-header":"3.696.0","@aws-sdk/middleware-logger":"3.696.0","@aws-sdk/middleware-recursion-detection":"3.696.0","@aws-sdk/middleware-user-agent":"3.696.0","@aws-sdk/region-config-resolver":"3.696.0","@aws-sdk/types":"3.696.0","@aws-sdk/util-endpoints":"3.696.0","@aws-sdk/util-user-agent-browser":"3.696.0","@aws-sdk/util-user-agent-node":"3.696.0","@smithy/config-resolver":"^3.0.12","@smithy/core":"^2.5.3","@smithy/fetch-http-handler":"^4.1.1","@smithy/hash-node":"^3.0.10","@smithy/invalid-dependency":"^3.0.10","@smithy/middleware-content-length":"^3.0.12","@smithy/middleware-endpoint":"^3.2.3","@smithy/middleware-retry":"^3.0.27","@smithy/middleware-serde":"^3.0.10","@smithy/middleware-stack":"^3.0.10","@smithy/node-config-provider":"^3.1.11","@smithy/node-http-handler":"^3.3.1","@smithy/protocol-http":"^4.1.7","@smithy/smithy-client":"^3.4.4","@smithy/types":"^3.7.1","@smithy/url-parser":"^3.0.10","@smithy/util-base64":"^3.0.0","@smithy/util-body-length-browser":"^3.0.0","@smithy/util-body-length-node":"^3.0.0","@smithy/util-defaults-mode-browser":"^3.0.27","@smithy/util-defaults-mode-node":"^3.0.27","@smithy/util-endpoints":"^2.1.6","@smithy/util-middleware":"^3.0.10","@smithy/util-retry":"^3.0.10","@smithy/util-utf8":"^3.0.0",tslib:"^2.6.2"},devDependencies:{"@tsconfig/node16":"16.1.3","@types/node":"^16.18.96",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~4.9.5"},engines:{node:">=16.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-sts",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-sts"}}});var io,a,l,m,se,te,R,ao,co,lo,u,Qs,$,re,Ye,Xs,Xe,mo,Ys,x,Zs,fo,uo,I,T,eo,po,ho,to,go,so,oo,no,ro,Kn,yo,So=f(()=>{"use strict";io="required",a="type",l="fn",m="argv",se="ref",te="booleanEquals",R="stringEquals",ao="sigv4",co="sts",lo="us-east-1",u="endpoint",Qs="https://sts.{Region}.{PartitionResult#dnsSuffix}",$="tree",re="error",Ye="getAttr",Xs={[io]:!1,[a]:"String"},Xe={[io]:!0,default:!1,[a]:"Boolean"},mo={[se]:"Endpoint"},Ys={[l]:"isSet",[m]:[{[se]:"Region"}]},x={[se]:"Region"},Zs={[l]:"aws.partition",[m]:[x],assign:"PartitionResult"},fo={[se]:"UseFIPS"},uo={[se]:"UseDualStack"},I={url:"https://sts.amazonaws.com",properties:{authSchemes:[{name:ao,signingName:co,signingRegion:lo}]},headers:{}},T={},eo={conditions:[{[l]:R,[m]:[x,"aws-global"]}],[u]:I,[a]:u},po={[l]:te,[m]:[fo,!0]},ho={[l]:te,[m]:[uo,!0]},to={[l]:Ye,[m]:[{[se]:"PartitionResult"},"supportsFIPS"]},go={[se]:"PartitionResult"},so={[l]:te,[m]:[!0,{[l]:Ye,[m]:[go,"supportsDualStack"]}]},oo=[{[l]:"isSet",[m]:[mo]}],no=[po],ro=[ho],Kn={version:"1.0",parameters:{Region:Xs,UseDualStack:Xe,UseFIPS:Xe,Endpoint:Xs,UseGlobalEndpoint:Xe},rules:[{conditions:[{[l]:te,[m]:[{[se]:"UseGlobalEndpoint"},!0]},{[l]:"not",[m]:oo},Ys,Zs,{[l]:te,[m]:[fo,!1]},{[l]:te,[m]:[uo,!1]}],rules:[{conditions:[{[l]:R,[m]:[x,"ap-northeast-1"]}],endpoint:I,[a]:u},{conditions:[{[l]:R,[m]:[x,"ap-south-1"]}],endpoint:I,[a]:u},{conditions:[{[l]:R,[m]:[x,"ap-southeast-1"]}],endpoint:I,[a]:u},{conditions:[{[l]:R,[m]:[x,"ap-southeast-2"]}],endpoint:I,[a]:u},eo,{conditions:[{[l]:R,[m]:[x,"ca-central-1"]}],endpoint:I,[a]:u},{conditions:[{[l]:R,[m]:[x,"eu-central-1"]}],endpoint:I,[a]:u},{conditions:[{[l]:R,[m]:[x,"eu-north-1"]}],endpoint:I,[a]:u},{conditions:[{[l]:R,[m]:[x,"eu-west-1"]}],endpoint:I,[a]:u},{conditions:[{[l]:R,[m]:[x,"eu-west-2"]}],endpoint:I,[a]:u},{conditions:[{[l]:R,[m]:[x,"eu-west-3"]}],endpoint:I,[a]:u},{conditions:[{[l]:R,[m]:[x,"sa-east-1"]}],endpoint:I,[a]:u},{conditions:[{[l]:R,[m]:[x,lo]}],endpoint:I,[a]:u},{conditions:[{[l]:R,[m]:[x,"us-east-2"]}],endpoint:I,[a]:u},{conditions:[{[l]:R,[m]:[x,"us-west-1"]}],endpoint:I,[a]:u},{conditions:[{[l]:R,[m]:[x,"us-west-2"]}],endpoint:I,[a]:u},{endpoint:{url:Qs,properties:{authSchemes:[{name:ao,signingName:co,signingRegion:"{Region}"}]},headers:T},[a]:u}],[a]:$},{conditions:oo,rules:[{conditions:no,error:"Invalid Configuration: FIPS and custom endpoint are not supported",[a]:re},{conditions:ro,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",[a]:re},{endpoint:{url:mo,properties:T,headers:T},[a]:u}],[a]:$},{conditions:[Ys],rules:[{conditions:[Zs],rules:[{conditions:[po,ho],rules:[{conditions:[{[l]:te,[m]:[!0,to]},so],rules:[{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:T,headers:T},[a]:u}],[a]:$},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",[a]:re}],[a]:$},{conditions:no,rules:[{conditions:[{[l]:te,[m]:[to,!0]}],rules:[{conditions:[{[l]:R,[m]:[{[l]:Ye,[m]:[go,"name"]},"aws-us-gov"]}],endpoint:{url:"https://sts.{Region}.amazonaws.com",properties:T,headers:T},[a]:u},{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dnsSuffix}",properties:T,headers:T},[a]:u}],[a]:$},{error:"FIPS is enabled but this partition does not support FIPS",[a]:re}],[a]:$},{conditions:ro,rules:[{conditions:[so],rules:[{endpoint:{url:"https://sts.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:T,headers:T},[a]:u}],[a]:$},{error:"DualStack is enabled but this partition does not support DualStack",[a]:re}],[a]:$},eo,{endpoint:{url:Qs,properties:T,headers:T},[a]:u}],[a]:$}],[a]:$},{error:"Invalid Configuration: Missing Region",[a]:re}]},yo=Kn});var qn,Ao,Co=f(()=>{"use strict";bn();vn();So();qn=new ss({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS","UseGlobalEndpoint"]}),Ao=(e,s={})=>qn.get(e,()=>ns(yo,{endpointParams:e,logger:s.logger}));os.aws=rs});var Eo,_o=f(()=>{"use strict";Pe();Ve();S();Wn();Pn();xn();Qe();Co();Eo=e=>({apiVersion:"2011-06-15",base64Decoder:e?.base64Decoder??Vt,base64Encoder:e?.base64Encoder??Xt,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??Ao,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??qs,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:s=>s.getIdentityProvider("aws.auth#sigv4"),signer:new Re},{schemeId:"smithy.api#noAuth",identityProvider:s=>s.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new Ee}],logger:e?.logger??new Ss,serviceId:e?.serviceId??"STS",urlParser:e?.urlParser??bs,utf8Decoder:e?.utf8Decoder??Jt,utf8Encoder:e?.utf8Encoder??Qt})});var Ro,xo=f(()=>{"use strict";Vs();Pe();Mn();Gn();Is();Ve();zn();Gs();Dn();In();Ln();Fn();_o();S();On();S();Ro=e=>{hs(process.version);let s=Ms(e),t=()=>s().then(ps),o=Eo(e);return is(process.version),h(r(r({},o),e),{runtime:"node",defaultsMode:s,bodyLengthChecker:e?.bodyLengthChecker??$s,credentialDefaultProvider:e?.credentialDefaultProvider??Je,defaultUserAgentProvider:e?.defaultUserAgentProvider??zs({serviceId:o.serviceId,clientVersion:Js.version}),httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:n=>n.getIdentityProvider("aws.auth#sigv4")||(async c=>await Je(c?.__config||{})()),signer:new Re},{schemeId:"smithy.api#noAuth",identityProvider:n=>n.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new Ee}],maxAttempts:e?.maxAttempts??ne(ks),region:e?.region??ne(Rs,xs),requestHandler:Yt.create(e?.requestHandler??t),retryMode:e?.retryMode??ne(h(r({},Ws),{default:async()=>(await t()).retryMode||Ts})),sha256:e?.sha256??Os.bind(null,"sha256"),streamCollector:e?.streamCollector??Zt,useDualstackEndpoint:e?.useDualstackEndpoint??ne(Es),useFipsEndpoint:e?.useFipsEndpoint??ne(_s),userAgentAppId:e?.userAgentAppId??ne(Ls)})}});var Po,Io,vo=f(()=>{"use strict";Po=e=>{let s=e.httpAuthSchemes,t=e.httpAuthSchemeProvider,o=e.credentials;return{setHttpAuthScheme(n){let c=s.findIndex(i=>i.schemeId===n.schemeId);c===-1?s.push(n):s.splice(c,1,n)},httpAuthSchemes(){return s},setHttpAuthSchemeProvider(n){t=n},httpAuthSchemeProvider(){return t},setCredentials(n){o=n},credentials(){return o}}},Io=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()})});var Ie,bo,wo=f(()=>{"use strict";$n();Mt();S();vo();Ie=e=>e,bo=(e,s)=>{let t=r(r(r(r({},Ie(Ns(e))),Ie(gs(e))),Ie(Lt(e))),Ie(Po(e)));return s.forEach(o=>o.configure(t)),r(r(r(r(r({},e),Hs(t)),ys(t)),Ot(t)),Io(t))}});var U,Ae=f(()=>{"use strict";Cn();En();_n();Tn();Is();Ve();kn();O();Gs();S();Qe();F();xo();wo();U=class extends cs{constructor(...[s]){let t=Ro(s||{}),o=Bs(t),n=ts(o),c=Ds(n),i=Ps(c),v=i,G=ws(v),z=js(G),oe=bo(z,s?.extensions||[]);super(oe),this.config=oe,this.middlewareStack.use(Cs(this.config)),this.middlewareStack.use(Fs(this.config)),this.middlewareStack.use(vs(this.config)),this.middlewareStack.use(Nt(this.config)),this.middlewareStack.use(Ht(this.config)),this.middlewareStack.use(Ut(this.config)),this.middlewareStack.use(jt(this.config,{httpAuthSchemeParametersProvider:Ks,identityProviderConfigProvider:async ye=>new es({"aws.auth#sigv4":ye.credentials})})),this.middlewareStack.use(Bt(this.config))}destroy(){super.destroy()}}});var w,ve=f(()=>{"use strict";S();w=class e extends fs{constructor(s){super(s),Object.setPrototypeOf(this,e.prototype)}}});var be,we,Te,ke,De,We,Fe,Ge,ie,To,ko,Do,Wo,Fo,Go,zo,Lo,K=f(()=>{"use strict";S();ve();be=class e extends w{constructor(s){super(r({name:"ExpiredTokenException",$fault:"client"},s)),this.name="ExpiredTokenException",this.$fault="client",Object.setPrototypeOf(this,e.prototype)}},we=class e extends w{constructor(s){super(r({name:"MalformedPolicyDocumentException",$fault:"client"},s)),this.name="MalformedPolicyDocumentException",this.$fault="client",Object.setPrototypeOf(this,e.prototype)}},Te=class e extends w{constructor(s){super(r({name:"PackedPolicyTooLargeException",$fault:"client"},s)),this.name="PackedPolicyTooLargeException",this.$fault="client",Object.setPrototypeOf(this,e.prototype)}},ke=class e extends w{constructor(s){super(r({name:"RegionDisabledException",$fault:"client"},s)),this.name="RegionDisabledException",this.$fault="client",Object.setPrototypeOf(this,e.prototype)}},De=class e extends w{constructor(s){super(r({name:"IDPRejectedClaimException",$fault:"client"},s)),this.name="IDPRejectedClaimException",this.$fault="client",Object.setPrototypeOf(this,e.prototype)}},We=class e extends w{constructor(s){super(r({name:"InvalidIdentityTokenException",$fault:"client"},s)),this.name="InvalidIdentityTokenException",this.$fault="client",Object.setPrototypeOf(this,e.prototype)}},Fe=class e extends w{constructor(s){super(r({name:"IDPCommunicationErrorException",$fault:"client"},s)),this.name="IDPCommunicationErrorException",this.$fault="client",Object.setPrototypeOf(this,e.prototype)}},Ge=class e extends w{constructor(s){super(r({name:"InvalidAuthorizationMessageException",$fault:"client"},s)),this.name="InvalidAuthorizationMessageException",this.$fault="client",Object.setPrototypeOf(this,e.prototype)}},ie=e=>r(r({},e),e.SecretAccessKey&&{SecretAccessKey:xe}),To=e=>r(r({},e),e.Credentials&&{Credentials:ie(e.Credentials)}),ko=e=>r(r({},e),e.SAMLAssertion&&{SAMLAssertion:xe}),Do=e=>r(r({},e),e.Credentials&&{Credentials:ie(e.Credentials)}),Wo=e=>r(r({},e),e.WebIdentityToken&&{WebIdentityToken:xe}),Fo=e=>r(r({},e),e.Credentials&&{Credentials:ie(e.Credentials)}),Go=e=>r(r({},e),e.Credentials&&{Credentials:ie(e.Credentials)}),zo=e=>r(r({},e),e.Credentials&&{Credentials:ie(e.Credentials)}),Lo=e=>r(r({},e),e.Credentials&&{Credentials:ie(e.Credentials)})});var $o,Mo,No,Ho,Uo,Ko,qo,jo,Bo,Vo,Jo,Qo,Xo,Yo,Zo,en,tn,sn,V,jn,Bn,Vn,Jn,Qn,Xn,Yn,Zn,er,tr,sr,or,nr,rr,ir,ar,cr,ze,on,dr,lr,mr,fr,nn,bt,ur,pr,hr,gr,pe,yr,Sr,Ar,Cr,Er,_r,Rr,xr,Pr,Ir,vr,br,wr,Tr,P,kr,J,Q,X,Y,ae,Dr,Ze,q,Wr,Fr,Gr,ce,j,de,E,et,zr,tt,_,st,ot,nt,rt,it,Lr,Or,$r,Mr,at,ct,dt,lt,k,D,mt,ft,ut,pt,W,ht,B,le,gt,yt,St,At,b,me,Ct,Et,fe,ue,_t,Oo,Rt,xt,Z,Pt,It,vt,p,ee,Nr,M=f(()=>{"use strict";Pe();Mt();S();K();ve();$o=async(e,s)=>{let t=Q,o;return o=ee(h(r({},er(e,s)),{[Y]:Dr,[Z]:X})),J(s,t,"/",void 0,o)},Mo=async(e,s)=>{let t=Q,o;return o=ee(h(r({},tr(e,s)),{[Y]:Wr,[Z]:X})),J(s,t,"/",void 0,o)},No=async(e,s)=>{let t=Q,o;return o=ee(h(r({},sr(e,s)),{[Y]:Fr,[Z]:X})),J(s,t,"/",void 0,o)},Ho=async(e,s)=>{let t=Q,o;return o=ee(h(r({},or(e,s)),{[Y]:Gr,[Z]:X})),J(s,t,"/",void 0,o)},Uo=async(e,s)=>{let t=Q,o;return o=ee(h(r({},nr(e,s)),{[Y]:zr,[Z]:X})),J(s,t,"/",void 0,o)},Ko=async(e,s)=>{let t=Q,o;return o=ee(h(r({},rr(e,s)),{[Y]:Lr,[Z]:X})),J(s,t,"/",void 0,o)},qo=async(e,s)=>{let t=Q,o;return o=ee(h(r({},ir(e,s)),{[Y]:Or,[Z]:X})),J(s,t,"/",void 0,o)},jo=async(e,s)=>{let t=Q,o;return o=ee(h(r({},ar(e,s)),{[Y]:$r,[Z]:X})),J(s,t,"/",void 0,o)},Bo=async(e,s)=>{let t=Q,o;return o=ee(h(r({},cr(e,s)),{[Y]:Mr,[Z]:X})),J(s,t,"/",void 0,o)},Vo=async(e,s)=>{if(e.statusCode>=300)return V(e,s);let t=await L(e.body,s),o={};return o=ur(t.AssumeRoleResult,s),r({$metadata:P(e)},o)},Jo=async(e,s)=>{if(e.statusCode>=300)return V(e,s);let t=await L(e.body,s),o={};return o=pr(t.AssumeRoleWithSAMLResult,s),r({$metadata:P(e)},o)},Qo=async(e,s)=>{if(e.statusCode>=300)return V(e,s);let t=await L(e.body,s),o={};return o=hr(t.AssumeRoleWithWebIdentityResult,s),r({$metadata:P(e)},o)},Xo=async(e,s)=>{if(e.statusCode>=300)return V(e,s);let t=await L(e.body,s),o={};return o=gr(t.AssumeRootResult,s),r({$metadata:P(e)},o)},Yo=async(e,s)=>{if(e.statusCode>=300)return V(e,s);let t=await L(e.body,s),o={};return o=yr(t.DecodeAuthorizationMessageResult,s),r({$metadata:P(e)},o)},Zo=async(e,s)=>{if(e.statusCode>=300)return V(e,s);let t=await L(e.body,s),o={};return o=Cr(t.GetAccessKeyInfoResult,s),r({$metadata:P(e)},o)},en=async(e,s)=>{if(e.statusCode>=300)return V(e,s);let t=await L(e.body,s),o={};return o=Er(t.GetCallerIdentityResult,s),r({$metadata:P(e)},o)},tn=async(e,s)=>{if(e.statusCode>=300)return V(e,s);let t=await L(e.body,s),o={};return o=_r(t.GetFederationTokenResult,s),r({$metadata:P(e)},o)},sn=async(e,s)=>{if(e.statusCode>=300)return V(e,s);let t=await L(e.body,s),o={};return o=Rr(t.GetSessionTokenResult,s),r({$metadata:P(e)},o)},V=async(e,s)=>{let t=h(r({},e),{body:await As(e.body,s)}),o=Nr(e,t.body);switch(o){case"ExpiredTokenException":case"com.amazonaws.sts#ExpiredTokenException":throw await jn(t,s);case"MalformedPolicyDocument":case"com.amazonaws.sts#MalformedPolicyDocumentException":throw await Xn(t,s);case"PackedPolicyTooLarge":case"com.amazonaws.sts#PackedPolicyTooLargeException":throw await Yn(t,s);case"RegionDisabledException":case"com.amazonaws.sts#RegionDisabledException":throw await Zn(t,s);case"IDPRejectedClaim":case"com.amazonaws.sts#IDPRejectedClaimException":throw await Vn(t,s);case"InvalidIdentityToken":case"com.amazonaws.sts#InvalidIdentityTokenException":throw await Qn(t,s);case"IDPCommunicationError":case"com.amazonaws.sts#IDPCommunicationErrorException":throw await Bn(t,s);case"InvalidAuthorizationMessageException":case"com.amazonaws.sts#InvalidAuthorizationMessageException":throw await Jn(t,s);default:let n=t.body;return kr({output:e,parsedBody:n.Error,errorCode:o})}},jn=async(e,s)=>{let t=e.body,o=Sr(t.Error,s),n=new be(r({$metadata:P(e)},o));return H(n,t)},Bn=async(e,s)=>{let t=e.body,o=xr(t.Error,s),n=new Fe(r({$metadata:P(e)},o));return H(n,t)},Vn=async(e,s)=>{let t=e.body,o=Pr(t.Error,s),n=new De(r({$metadata:P(e)},o));return H(n,t)},Jn=async(e,s)=>{let t=e.body,o=Ir(t.Error,s),n=new Ge(r({$metadata:P(e)},o));return H(n,t)},Qn=async(e,s)=>{let t=e.body,o=vr(t.Error,s),n=new We(r({$metadata:P(e)},o));return H(n,t)},Xn=async(e,s)=>{let t=e.body,o=br(t.Error,s),n=new we(r({$metadata:P(e)},o));return H(n,t)},Yn=async(e,s)=>{let t=e.body,o=wr(t.Error,s),n=new Te(r({$metadata:P(e)},o));return H(n,t)},Zn=async(e,s)=>{let t=e.body,o=Tr(t.Error,s),n=new ke(r({$metadata:P(e)},o));return H(n,t)},er=(e,s)=>{let t={};if(e[B]!=null&&(t[B]=e[B]),e[le]!=null&&(t[le]=e[le]),e[D]!=null){let o=ze(e[D],s);e[D]?.length===0&&(t.PolicyArns=[]),Object.entries(o).forEach(([n,c])=>{let i=`PolicyArns.${n}`;t[i]=c})}if(e[k]!=null&&(t[k]=e[k]),e[_]!=null&&(t[_]=e[_]),e[fe]!=null){let o=nn(e[fe],s);e[fe]?.length===0&&(t.Tags=[]),Object.entries(o).forEach(([n,c])=>{let i=`Tags.${n}`;t[i]=c})}if(e[Rt]!=null){let o=fr(e[Rt],s);e[Rt]?.length===0&&(t.TransitiveTagKeys=[]),Object.entries(o).forEach(([n,c])=>{let i=`TransitiveTagKeys.${n}`;t[i]=c})}if(e[ot]!=null&&(t[ot]=e[ot]),e[me]!=null&&(t[me]=e[me]),e[ue]!=null&&(t[ue]=e[ue]),e[b]!=null&&(t[b]=e[b]),e[ut]!=null){let o=lr(e[ut],s);e[ut]?.length===0&&(t.ProvidedContexts=[]),Object.entries(o).forEach(([n,c])=>{let i=`ProvidedContexts.${n}`;t[i]=c})}return t},tr=(e,s)=>{let t={};if(e[B]!=null&&(t[B]=e[B]),e[mt]!=null&&(t[mt]=e[mt]),e[St]!=null&&(t[St]=e[St]),e[D]!=null){let o=ze(e[D],s);e[D]?.length===0&&(t.PolicyArns=[]),Object.entries(o).forEach(([n,c])=>{let i=`PolicyArns.${n}`;t[i]=c})}return e[k]!=null&&(t[k]=e[k]),e[_]!=null&&(t[_]=e[_]),t},sr=(e,s)=>{let t={};if(e[B]!=null&&(t[B]=e[B]),e[le]!=null&&(t[le]=e[le]),e[It]!=null&&(t[It]=e[It]),e[pt]!=null&&(t[pt]=e[pt]),e[D]!=null){let o=ze(e[D],s);e[D]?.length===0&&(t.PolicyArns=[]),Object.entries(o).forEach(([n,c])=>{let i=`PolicyArns.${n}`;t[i]=c})}return e[k]!=null&&(t[k]=e[k]),e[_]!=null&&(t[_]=e[_]),t},or=(e,s)=>{let t={};if(e[_t]!=null&&(t[_t]=e[_t]),e[Oo]!=null){let o=on(e[Oo],s);Object.entries(o).forEach(([n,c])=>{let i=`TaskPolicyArn.${n}`;t[i]=c})}return e[_]!=null&&(t[_]=e[_]),t},nr=(e,s)=>{let t={};return e[nt]!=null&&(t[nt]=e[nt]),t},rr=(e,s)=>{let t={};return e[ae]!=null&&(t[ae]=e[ae]),t},ir=(e,s)=>({}),ar=(e,s)=>{let t={};if(e[dt]!=null&&(t[dt]=e[dt]),e[k]!=null&&(t[k]=e[k]),e[D]!=null){let o=ze(e[D],s);e[D]?.length===0&&(t.PolicyArns=[]),Object.entries(o).forEach(([n,c])=>{let i=`PolicyArns.${n}`;t[i]=c})}if(e[_]!=null&&(t[_]=e[_]),e[fe]!=null){let o=nn(e[fe],s);e[fe]?.length===0&&(t.Tags=[]),Object.entries(o).forEach(([n,c])=>{let i=`Tags.${n}`;t[i]=c})}return t},cr=(e,s)=>{let t={};return e[_]!=null&&(t[_]=e[_]),e[me]!=null&&(t[me]=e[me]),e[ue]!=null&&(t[ue]=e[ue]),t},ze=(e,s)=>{let t={},o=1;for(let n of e){if(n===null)continue;let c=on(n,s);Object.entries(c).forEach(([i,v])=>{t[`member.${o}.${i}`]=v}),o++}return t},on=(e,s)=>{let t={};return e[vt]!=null&&(t[vt]=e[vt]),t},dr=(e,s)=>{let t={};return e[ft]!=null&&(t[ft]=e[ft]),e[et]!=null&&(t[et]=e[et]),t},lr=(e,s)=>{let t={},o=1;for(let n of e){if(n===null)continue;let c=dr(n,s);Object.entries(c).forEach(([i,v])=>{t[`member.${o}.${i}`]=v}),o++}return t},mr=(e,s)=>{let t={};return e[ct]!=null&&(t[ct]=e[ct]),e[Pt]!=null&&(t[Pt]=e[Pt]),t},fr=(e,s)=>{let t={},o=1;for(let n of e)n!==null&&(t[`member.${o}`]=n,o++);return t},nn=(e,s)=>{let t={},o=1;for(let n of e){if(n===null)continue;let c=mr(n,s);Object.entries(c).forEach(([i,v])=>{t[`member.${o}.${i}`]=v}),o++}return t},bt=(e,s)=>{let t={};return e[Ze]!=null&&(t[Ze]=d(e[Ze])),e[j]!=null&&(t[j]=d(e[j])),t},ur=(e,s)=>{let t={};return e[E]!=null&&(t[E]=pe(e[E],s)),e[q]!=null&&(t[q]=bt(e[q],s)),e[W]!=null&&(t[W]=Se(e[W])),e[b]!=null&&(t[b]=d(e[b])),t},pr=(e,s)=>{let t={};return e[E]!=null&&(t[E]=pe(e[E],s)),e[q]!=null&&(t[q]=bt(e[q],s)),e[W]!=null&&(t[W]=Se(e[W])),e[gt]!=null&&(t[gt]=d(e[gt])),e[Ct]!=null&&(t[Ct]=d(e[Ct])),e[at]!=null&&(t[at]=d(e[at])),e[de]!=null&&(t[de]=d(e[de])),e[lt]!=null&&(t[lt]=d(e[lt])),e[b]!=null&&(t[b]=d(e[b])),t},hr=(e,s)=>{let t={};return e[E]!=null&&(t[E]=pe(e[E],s)),e[At]!=null&&(t[At]=d(e[At])),e[q]!=null&&(t[q]=bt(e[q],s)),e[W]!=null&&(t[W]=Se(e[W])),e[ht]!=null&&(t[ht]=d(e[ht])),e[de]!=null&&(t[de]=d(e[de])),e[b]!=null&&(t[b]=d(e[b])),t},gr=(e,s)=>{let t={};return e[E]!=null&&(t[E]=pe(e[E],s)),e[b]!=null&&(t[b]=d(e[b])),t},pe=(e,s)=>{let t={};return e[ae]!=null&&(t[ae]=d(e[ae])),e[yt]!=null&&(t[yt]=d(e[yt])),e[Et]!=null&&(t[Et]=d(e[Et])),e[st]!=null&&(t[st]=ls(ms(e[st]))),t},yr=(e,s)=>{let t={};return e[tt]!=null&&(t[tt]=d(e[tt])),t},Sr=(e,s)=>{let t={};return e[p]!=null&&(t[p]=d(e[p])),t},Ar=(e,s)=>{let t={};return e[it]!=null&&(t[it]=d(e[it])),e[j]!=null&&(t[j]=d(e[j])),t},Cr=(e,s)=>{let t={};return e[ce]!=null&&(t[ce]=d(e[ce])),t},Er=(e,s)=>{let t={};return e[xt]!=null&&(t[xt]=d(e[xt])),e[ce]!=null&&(t[ce]=d(e[ce])),e[j]!=null&&(t[j]=d(e[j])),t},_r=(e,s)=>{let t={};return e[E]!=null&&(t[E]=pe(e[E],s)),e[rt]!=null&&(t[rt]=Ar(e[rt],s)),e[W]!=null&&(t[W]=Se(e[W])),t},Rr=(e,s)=>{let t={};return e[E]!=null&&(t[E]=pe(e[E],s)),t},xr=(e,s)=>{let t={};return e[p]!=null&&(t[p]=d(e[p])),t},Pr=(e,s)=>{let t={};return e[p]!=null&&(t[p]=d(e[p])),t},Ir=(e,s)=>{let t={};return e[p]!=null&&(t[p]=d(e[p])),t},vr=(e,s)=>{let t={};return e[p]!=null&&(t[p]=d(e[p])),t},br=(e,s)=>{let t={};return e[p]!=null&&(t[p]=d(e[p])),t},wr=(e,s)=>{let t={};return e[p]!=null&&(t[p]=d(e[p])),t},Tr=(e,s)=>{let t={};return e[p]!=null&&(t[p]=d(e[p])),t},P=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),kr=us(w),J=async(e,s,t,o,n)=>{let{hostname:c,protocol:i="https",port:v,path:G}=await e.endpoint(),z={protocol:i,hostname:c,port:v,method:"POST",path:G.endsWith("/")?G.slice(0,-1)+t:G+t,headers:s};return o!==void 0&&(z.hostname=o),n!==void 0&&(z.body=n),new $t(z)},Q={"content-type":"application/x-www-form-urlencoded"},X="2011-06-15",Y="Action",ae="AccessKeyId",Dr="AssumeRole",Ze="AssumedRoleId",q="AssumedRoleUser",Wr="AssumeRoleWithSAML",Fr="AssumeRoleWithWebIdentity",Gr="AssumeRoot",ce="Account",j="Arn",de="Audience",E="Credentials",et="ContextAssertion",zr="DecodeAuthorizationMessage",tt="DecodedMessage",_="DurationSeconds",st="Expiration",ot="ExternalId",nt="EncodedMessage",rt="FederatedUser",it="FederatedUserId",Lr="GetAccessKeyInfo",Or="GetCallerIdentity",$r="GetFederationToken",Mr="GetSessionToken",at="Issuer",ct="Key",dt="Name",lt="NameQualifier",k="Policy",D="PolicyArns",mt="PrincipalArn",ft="ProviderArn",ut="ProvidedContexts",pt="ProviderId",W="PackedPolicySize",ht="Provider",B="RoleArn",le="RoleSessionName",gt="Subject",yt="SecretAccessKey",St="SAMLAssertion",At="SubjectFromWebIdentityToken",b="SourceIdentity",me="SerialNumber",Ct="SubjectType",Et="SessionToken",fe="Tags",ue="TokenCode",_t="TargetPrincipal",Oo="TaskPolicyArn",Rt="TransitiveTagKeys",xt="UserId",Z="Version",Pt="Value",It="WebIdentityToken",vt="arn",p="message",ee=e=>Object.entries(e).map(([s,t])=>Be(s)+"="+Be(t)).join("&"),Nr=(e,s)=>{if(s.Error?.Code!==void 0)return s.Error.Code;if(e.statusCode==404)return"NotFound"}});var he,Le=f(()=>{"use strict";O();N();S();F();K();M();he=class extends y.classBuilder().ep(C).m(function(s,t,o,n){return[g(o,this.serialize,this.deserialize),A(o,s.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRole",{}).n("STSClient","AssumeRoleCommand").f(void 0,To).ser($o).de(Vo).build(){}});var Oe,wt=f(()=>{"use strict";O();N();S();F();K();M();Oe=class extends y.classBuilder().ep(C).m(function(s,t,o,n){return[g(o,this.serialize,this.deserialize),A(o,s.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRoleWithSAML",{}).n("STSClient","AssumeRoleWithSAMLCommand").f(ko,Do).ser(Mo).de(Jo).build(){}});var ge,$e=f(()=>{"use strict";O();N();S();F();K();M();ge=class extends y.classBuilder().ep(C).m(function(s,t,o,n){return[g(o,this.serialize,this.deserialize),A(o,s.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRoleWithWebIdentity",{}).n("STSClient","AssumeRoleWithWebIdentityCommand").f(Wo,Fo).ser(No).de(Qo).build(){}});var Me,Tt=f(()=>{"use strict";O();N();S();F();K();M();Me=class extends y.classBuilder().ep(C).m(function(s,t,o,n){return[g(o,this.serialize,this.deserialize),A(o,s.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRoot",{}).n("STSClient","AssumeRootCommand").f(void 0,Go).ser(Ho).de(Xo).build(){}});var Ne,kt=f(()=>{"use strict";O();N();S();F();M();Ne=class extends y.classBuilder().ep(C).m(function(s,t,o,n){return[g(o,this.serialize,this.deserialize),A(o,s.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","DecodeAuthorizationMessage",{}).n("STSClient","DecodeAuthorizationMessageCommand").f(void 0,void 0).ser(Uo).de(Yo).build(){}});var He,Dt=f(()=>{"use strict";O();N();S();F();M();He=class extends y.classBuilder().ep(C).m(function(s,t,o,n){return[g(o,this.serialize,this.deserialize),A(o,s.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","GetAccessKeyInfo",{}).n("STSClient","GetAccessKeyInfoCommand").f(void 0,void 0).ser(Ko).de(Zo).build(){}});var Ue,Wt=f(()=>{"use strict";O();N();S();F();M();Ue=class extends y.classBuilder().ep(C).m(function(s,t,o,n){return[g(o,this.serialize,this.deserialize),A(o,s.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","GetCallerIdentity",{}).n("STSClient","GetCallerIdentityCommand").f(void 0,void 0).ser(qo).de(en).build(){}});var Ke,Ft=f(()=>{"use strict";O();N();S();F();K();M();Ke=class extends y.classBuilder().ep(C).m(function(s,t,o,n){return[g(o,this.serialize,this.deserialize),A(o,s.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","GetFederationToken",{}).n("STSClient","GetFederationTokenCommand").f(void 0,zo).ser(jo).de(tn).build(){}});var qe,Gt=f(()=>{"use strict";O();N();S();F();K();M();qe=class extends y.classBuilder().ep(C).m(function(s,t,o,n){return[g(o,this.serialize,this.deserialize),A(o,s.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","GetSessionToken",{}).n("STSClient","GetSessionTokenCommand").f(void 0,Lo).ser(Bo).de(sn).build(){}});var Hr,zt,rn=f(()=>{"use strict";S();Le();wt();$e();Tt();kt();Dt();Wt();Ft();Gt();Ae();Hr={AssumeRoleCommand:he,AssumeRoleWithSAMLCommand:Oe,AssumeRoleWithWebIdentityCommand:ge,AssumeRootCommand:Me,DecodeAuthorizationMessageCommand:Ne,GetAccessKeyInfoCommand:He,GetCallerIdentityCommand:Ue,GetFederationTokenCommand:Ke,GetSessionTokenCommand:qe},zt=class extends U{};ds(Hr,zt)});var an=f(()=>{"use strict";Le();wt();$e();Tt();kt();Dt();Wt();Ft();Gt()});var cn=f(()=>{"use strict";K()});var dn,ln,mn,fn,un,pn,hn=f(()=>{"use strict";wn();Le();$e();dn="us-east-1",ln=e=>{if(typeof e?.Arn=="string"){let s=e.Arn.split(":");if(s.length>4&&s[4]!=="")return s[4]}},mn=async(e,s,t)=>{let o=typeof e=="function"?await e():e,n=typeof s=="function"?await s():s;return t?.debug?.("@aws-sdk/client-sts::resolveRegion","accepting first of:",`${o} (provider)`,`${n} (parent client)`,`${dn} (STS default)`),o??n??dn},fn=(e,s)=>{let t,o;return async(n,c)=>{if(o=n,!t){let{logger:oe=e?.parentClientConfig?.logger,region:ye,requestHandler:Ce=e?.parentClientConfig?.requestHandler,credentialProviderLogger:je}=e,Sn=await mn(ye,e?.parentClientConfig?.region,je),An=!pn(Ce);t=new s({credentialDefaultProvider:()=>async()=>o,region:Sn,requestHandler:An?Ce:void 0,logger:oe})}let{Credentials:i,AssumedRoleUser:v}=await t.send(new he(c));if(!i||!i.AccessKeyId||!i.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRole call with role ${c.RoleArn}`);let G=ln(v),z=r(r({accessKeyId:i.AccessKeyId,secretAccessKey:i.SecretAccessKey,sessionToken:i.SessionToken,expiration:i.Expiration},i.CredentialScope&&{credentialScope:i.CredentialScope}),G&&{accountId:G});return _e(z,"CREDENTIALS_STS_ASSUME_ROLE","i"),z}},un=(e,s)=>{let t;return async o=>{if(!t){let{logger:G=e?.parentClientConfig?.logger,region:z,requestHandler:oe=e?.parentClientConfig?.requestHandler,credentialProviderLogger:ye}=e,Ce=await mn(z,e?.parentClientConfig?.region,ye),je=!pn(oe);t=new s({region:Ce,requestHandler:je?oe:void 0,logger:G})}let{Credentials:n,AssumedRoleUser:c}=await t.send(new ge(o));if(!n||!n.AccessKeyId||!n.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRoleWithWebIdentity call with role ${o.RoleArn}`);let i=ln(c),v=r(r({accessKeyId:n.AccessKeyId,secretAccessKey:n.SecretAccessKey,sessionToken:n.SessionToken,expiration:n.Expiration},n.CredentialScope&&{credentialScope:n.CredentialScope}),i&&{accountId:i});return i&&_e(v,"RESOLVED_ACCOUNT_ID","T"),_e(v,"CREDENTIALS_STS_ASSUME_ROLE_WEB_ID","k"),v}},pn=e=>e?.metadata?.handlerProtocol==="h2"});var gn,Ur,Kr,Zc,yn=f(()=>{"use strict";hn();Ae();gn=(e,s)=>s?class extends e{constructor(o){super(o);for(let n of s)this.middlewareStack.use(n)}}:e,Ur=(e={},s)=>fn(e,gn(U,s)),Kr=(e={},s)=>un(e,gn(U,s)),Zc=e=>s=>e(r({roleAssumer:Ur(s),roleAssumerWithWebIdentity:Kr(s)},s))});var qr=f(()=>{Ae();rn();an();cn();yn();ve()});export{U as a,w as b,be as c,we as d,Te as e,ke as f,De as g,We as h,Fe as i,Ge as j,ie as k,To as l,ko as m,Do as n,Wo as o,Fo as p,Go as q,zo as r,Lo as s,he as t,Oe as u,ge as v,Me as w,Ne as x,He as y,Ue as z,Ke as A,qe as B,zt as C,Ur as D,Kr as E,Zc as F,qr as G};
