import { createRequire } from 'node:module';
globalThis['require'] ??= createRequire(import.meta.url);
import{$ as gt,A as W,B as Xe,C as Qe,F as J,G as Ze,H as Bo,I as et,J as tt,K as ot,L as st,M as rt,N as nt,O as it,P as $o,Q as S,R as ct,S as H,T as dt,U as Vo,V as mt,W as pt,X as lt,Y as ut,Z as ft,_ as ht,a as xe,aa as Wo,b as No,ba as yt,c as Se,ca as Jo,d as To,da as xt,e as Ce,ea as Ko,f as Do,fa as St,g as ve,ga as Yo,h as Ee,ha as Ct,i as Fo,ia as vt,j as _e,ja as Xo,k as g,l as $,m as be,n as j,o as Le,p as Ne,q as D,r as Te,s as De,t as Fe,u as qe,v as Uo,w as He,x as Go,y as Ue,z as Ge}from"./chunk-UVLFOUBM.mjs";import{a as P,b as jo,c as at,d as Mo}from"./chunk-OXRWZM6G.mjs";import{$ as q,B as Oe,D as T,F as Be,G as y,H as _,I as $e,M as b,N as M,O as R,T as je,U as F,V as Me,W as Ve,X as We,Y as Je,Z as Ke,a as ge,aa as Ye,b as ye,ba as a,ca as x,da as V,e as Lo,ea as d,k as Re,l as Pe,n as we,o as qo,p as Ae,q as Ho,t as Ie,u as ke,v as zo}from"./chunk-QNKP6SCQ.mjs";import"./chunk-DUU7IDJR.mjs";import{a as ze}from"./chunk-HOM3E74A.mjs";import"./chunk-ZAAD4LGZ.mjs";import"./chunk-WHYOH54Q.mjs";import{a as r,b as E,e as i}from"./chunk-YJ4N4I6Q.mjs";function Qo(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"awsssoportal",region:e.region},propertiesExtractor:(t,o)=>({signingProperties:{config:t,context:o}})}}function K(e){return{schemeId:"smithy.api#noAuth"}}var Et,_t,bt,ce=i(()=>{"use strict";J();Fo();Et=async(e,t,o)=>({operation:ve(t).operation,region:await Ee(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});_t=e=>{let t=[];switch(e.operation){case"GetRoleCredentials":{t.push(K(e));break}case"ListAccountRoles":{t.push(K(e));break}case"ListAccounts":{t.push(K(e));break}case"Logout":{t.push(K(e));break}default:t.push(Qo(e))}return t},bt=e=>{let t=Ge(e);return r({},t)}});var Rt,C,A=i(()=>{"use strict";Rt=e=>E(r({},e),{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"awsssoportal"}),C={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}});var wt,Pt=i(()=>{wt={name:"@aws-sdk/client-sso",description:"AWS SDK for JavaScript Sso Client for Node.js, Browser and React Native",version:"3.696.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline client-sso","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo sso"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.696.0","@aws-sdk/middleware-host-header":"3.696.0","@aws-sdk/middleware-logger":"3.696.0","@aws-sdk/middleware-recursion-detection":"3.696.0","@aws-sdk/middleware-user-agent":"3.696.0","@aws-sdk/region-config-resolver":"3.696.0","@aws-sdk/types":"3.696.0","@aws-sdk/util-endpoints":"3.696.0","@aws-sdk/util-user-agent-browser":"3.696.0","@aws-sdk/util-user-agent-node":"3.696.0","@smithy/config-resolver":"^3.0.12","@smithy/core":"^2.5.3","@smithy/fetch-http-handler":"^4.1.1","@smithy/hash-node":"^3.0.10","@smithy/invalid-dependency":"^3.0.10","@smithy/middleware-content-length":"^3.0.12","@smithy/middleware-endpoint":"^3.2.3","@smithy/middleware-retry":"^3.0.27","@smithy/middleware-serde":"^3.0.10","@smithy/middleware-stack":"^3.0.10","@smithy/node-config-provider":"^3.1.11","@smithy/node-http-handler":"^3.3.1","@smithy/protocol-http":"^4.1.7","@smithy/smithy-client":"^3.4.4","@smithy/types":"^3.7.1","@smithy/url-parser":"^3.0.10","@smithy/util-base64":"^3.0.0","@smithy/util-body-length-browser":"^3.0.0","@smithy/util-body-length-node":"^3.0.0","@smithy/util-defaults-mode-browser":"^3.0.27","@smithy/util-defaults-mode-node":"^3.0.27","@smithy/util-endpoints":"^2.1.6","@smithy/util-middleware":"^3.0.10","@smithy/util-retry":"^3.0.10","@smithy/util-utf8":"^3.0.0",tslib:"^2.6.2"},devDependencies:{"@tsconfig/node16":"16.1.3","@types/node":"^16.18.96",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~4.9.5"},engines:{node:">=16.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-sso",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-sso"}}});var qt,p,l,O,At,z,I,k,u,de,me,It,kt,Ot,Ht,zt,m,Lt,Ut,Nt,Tt,Dt,Ft,es,Gt,Bt=i(()=>{"use strict";qt="required",p="fn",l="argv",O="ref",At="isSet",z="booleanEquals",I="error",k="endpoint",u="tree",de="PartitionResult",me="getAttr",It={[qt]:!1,type:"String"},kt={[qt]:!0,default:!1,type:"Boolean"},Ot={[O]:"Endpoint"},Ht={[p]:z,[l]:[{[O]:"UseFIPS"},!0]},zt={[p]:z,[l]:[{[O]:"UseDualStack"},!0]},m={},Lt={[p]:me,[l]:[{[O]:de},"supportsFIPS"]},Ut={[O]:de},Nt={[p]:z,[l]:[!0,{[p]:me,[l]:[Ut,"supportsDualStack"]}]},Tt=[Ht],Dt=[zt],Ft=[{[O]:"Region"}],es={version:"1.0",parameters:{Region:It,UseDualStack:kt,UseFIPS:kt,Endpoint:It},rules:[{conditions:[{[p]:At,[l]:[Ot]}],rules:[{conditions:Tt,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:I},{conditions:Dt,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:I},{endpoint:{url:Ot,properties:m,headers:m},type:k}],type:u},{conditions:[{[p]:At,[l]:Ft}],rules:[{conditions:[{[p]:"aws.partition",[l]:Ft,assign:de}],rules:[{conditions:[Ht,zt],rules:[{conditions:[{[p]:z,[l]:[!0,Lt]},Nt],rules:[{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:m,headers:m},type:k}],type:u},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:I}],type:u},{conditions:Tt,rules:[{conditions:[{[p]:z,[l]:[Lt,!0]}],rules:[{conditions:[{[p]:"stringEquals",[l]:[{[p]:me,[l]:[Ut,"name"]},"aws-us-gov"]}],endpoint:{url:"https://portal.sso.{Region}.amazonaws.com",properties:m,headers:m},type:k},{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dnsSuffix}",properties:m,headers:m},type:k}],type:u},{error:"FIPS is enabled but this partition does not support FIPS",type:I}],type:u},{conditions:Dt,rules:[{conditions:[Nt],rules:[{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:m,headers:m},type:k}],type:u},{error:"DualStack is enabled but this partition does not support DualStack",type:I}],type:u},{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dnsSuffix}",properties:m,headers:m},type:k}],type:u}],type:u},{error:"Invalid Configuration: Missing Region",type:I}]},Gt=es});var ts,$t,jt=i(()=>{"use strict";Go();Uo();Bt();ts=new De({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),$t=(e,t={})=>ts.get(e,()=>qe(Gt,{endpointParams:e,logger:t.logger}));Fe.aws=He});var Mt,Vt=i(()=>{"use strict";J();D();d();Mo();Ho();qo();ce();jt();Mt=e=>({apiVersion:"2019-06-10",base64Decoder:e?.base64Decoder??Re,base64Encoder:e?.base64Encoder??Ae,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??$t,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??_t,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new Ue},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new Ne}],logger:e?.logger??new Ye,serviceId:e?.serviceId??"SSO",urlParser:e?.urlParser??at,utf8Decoder:e?.utf8Decoder??Pe,utf8Encoder:e?.utf8Encoder??we})});var Wt,Jt=i(()=>{"use strict";Pt();J();Wo();nt();Jo();ft();jo();zo();Ko();Vo();Vt();d();Yo();d();Wt=e=>{We(process.version);let t=St(e),o=()=>t().then(Ve),s=Mt(e);return ze(process.version),E(r(r({},s),e),{runtime:"node",defaultsMode:t,bodyLengthChecker:e?.bodyLengthChecker??xt,defaultUserAgentProvider:e?.defaultUserAgentProvider??ht({serviceId:s.serviceId,clientVersion:wt.version}),maxAttempts:e?.maxAttempts??P(mt),region:e?.region??P(ot,st),requestHandler:Ie.create(e?.requestHandler??o),retryMode:e?.retryMode??P(E(r({},lt),{default:async()=>(await o()).retryMode||dt})),sha256:e?.sha256??yt.bind(null,"sha256"),streamCollector:e?.streamCollector??ke,useDualstackEndpoint:e?.useDualstackEndpoint??P(et),useFipsEndpoint:e?.useFipsEndpoint??P(tt),userAgentAppId:e?.userAgentAppId??P(gt)})}});var Kt,Yt,Xt=i(()=>{"use strict";Kt=e=>{let t=e.httpAuthSchemes,o=e.httpAuthSchemeProvider,s=e.credentials;return{setHttpAuthScheme(n){let c=t.findIndex(ae=>ae.schemeId===n.schemeId);c===-1?t.push(n):t.splice(c,1,n)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(n){o=n},httpAuthSchemeProvider(){return o},setCredentials(n){s=n},credentials(){return s}}},Yt=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()})});var Y,Qt,Zt=i(()=>{"use strict";Xo();Lo();d();Xt();Y=e=>e,Qt=(e,t)=>{let o=r(r(r(r({},Y(Ct(e))),Y(Je(e))),Y(ge(e))),Y(Kt(e)));return t.forEach(s=>s.configure(o)),r(r(r(r(r({},e),vt(o)),Ke(o)),ye(o)),Yt(o))}});var f,U=i(()=>{"use strict";No();To();Do();Bo();nt();D();$o();H();ft();d();ce();A();Jt();Zt();f=class extends Be{constructor(...[t]){let o=Wt(t||{}),s=Rt(o),n=Te(s),c=pt(n),ae=rt(c),Ao=ae,Io=ct(Ao),ko=bt(Io),he=Qt(ko,t?.extensions||[]);super(he),this.config=he,this.middlewareStack.use(Ze(this.config)),this.middlewareStack.use(ut(this.config)),this.middlewareStack.use(it(this.config)),this.middlewareStack.use(xe(this.config)),this.middlewareStack.use(Se(this.config)),this.middlewareStack.use(Ce(this.config)),this.middlewareStack.use(_e(this.config,{httpAuthSchemeParametersProvider:Et,identityProviderConfigProvider:async Oo=>new Le({"aws.auth#sigv4":Oo.credentials})})),this.middlewareStack.use(be(this.config))}destroy(){super.destroy()}}});var h,pe=i(()=>{"use strict";d();h=class e extends je{constructor(t){super(t),Object.setPrototypeOf(this,e.prototype)}}});var X,Q,Z,ee,eo,os,to,oo,so,ro,w=i(()=>{"use strict";d();pe();X=class e extends h{constructor(t){super(r({name:"InvalidRequestException",$fault:"client"},t)),this.name="InvalidRequestException",this.$fault="client",Object.setPrototypeOf(this,e.prototype)}},Q=class e extends h{constructor(t){super(r({name:"ResourceNotFoundException",$fault:"client"},t)),this.name="ResourceNotFoundException",this.$fault="client",Object.setPrototypeOf(this,e.prototype)}},Z=class e extends h{constructor(t){super(r({name:"TooManyRequestsException",$fault:"client"},t)),this.name="TooManyRequestsException",this.$fault="client",Object.setPrototypeOf(this,e.prototype)}},ee=class e extends h{constructor(t){super(r({name:"UnauthorizedException",$fault:"client"},t)),this.name="UnauthorizedException",this.$fault="client",Object.setPrototypeOf(this,e.prototype)}},eo=e=>r(r({},e),e.accessToken&&{accessToken:_}),os=e=>r(r(r({},e),e.secretAccessKey&&{secretAccessKey:_}),e.sessionToken&&{sessionToken:_}),to=e=>r(r({},e),e.roleCredentials&&{roleCredentials:os(e.roleCredentials)}),oo=e=>r(r({},e),e.accessToken&&{accessToken:_}),so=e=>r(r({},e),e.accessToken&&{accessToken:_}),ro=e=>r(r({},e),e.accessToken&&{accessToken:_})});var no,io,ao,co,mo,po,lo,uo,te,ss,rs,ns,is,as,v,fo,oe,ho,go,yo,xo,So,cs,ds,se,G=i(()=>{"use strict";J();D();d();w();pe();no=async(e,t)=>{let o=T(e,t),s=a({},q,{[se]:e[oe]});o.bp("/federation/credentials");let n=a({[ds]:[,b(e[cs],"roleName")],[ho]:[,b(e[fo],"accountId")]});return o.m("GET").h(s).q(n).b(void 0),o.build()},io=async(e,t)=>{let o=T(e,t),s=a({},q,{[se]:e[oe]});o.bp("/assignment/roles");let n=a({[So]:[,e[xo]],[yo]:[()=>e.maxResults!==void 0,()=>e[go].toString()],[ho]:[,b(e[fo],"accountId")]});return o.m("GET").h(s).q(n).b(void 0),o.build()},ao=async(e,t)=>{let o=T(e,t),s=a({},q,{[se]:e[oe]});o.bp("/assignment/accounts");let n=a({[So]:[,e[xo]],[yo]:[()=>e.maxResults!==void 0,()=>e[go].toString()]});return o.m("GET").h(s).q(n).b(void 0),o.build()},co=async(e,t)=>{let o=T(e,t),s=a({},q,{[se]:e[oe]});return o.bp("/logout"),o.m("POST").h(s).b(void 0),o.build()},mo=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return te(e,t);let o=a({$metadata:v(e)}),s=b(M(await W(e.body,t)),"body"),n=x(s,{roleCredentials:V});return Object.assign(o,n),o},po=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return te(e,t);let o=a({$metadata:v(e)}),s=b(M(await W(e.body,t)),"body"),n=x(s,{nextToken:R,roleList:V});return Object.assign(o,n),o},lo=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return te(e,t);let o=a({$metadata:v(e)}),s=b(M(await W(e.body,t)),"body"),n=x(s,{accountList:V,nextToken:R});return Object.assign(o,n),o},uo=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return te(e,t);let o=a({$metadata:v(e)});return await Oe(e.body,t),o},te=async(e,t)=>{let o=E(r({},e),{body:await Xe(e.body,t)}),s=Qe(e,o.body);switch(s){case"InvalidRequestException":case"com.amazonaws.sso#InvalidRequestException":throw await rs(o,t);case"ResourceNotFoundException":case"com.amazonaws.sso#ResourceNotFoundException":throw await ns(o,t);case"TooManyRequestsException":case"com.amazonaws.sso#TooManyRequestsException":throw await is(o,t);case"UnauthorizedException":case"com.amazonaws.sso#UnauthorizedException":throw await as(o,t);default:let n=o.body;return ss({output:e,parsedBody:n,errorCode:s})}},ss=Me(h),rs=async(e,t)=>{let o=a({}),s=e.body,n=x(s,{message:R});Object.assign(o,n);let c=new X(r({$metadata:v(e)},o));return F(c,e.body)},ns=async(e,t)=>{let o=a({}),s=e.body,n=x(s,{message:R});Object.assign(o,n);let c=new Q(r({$metadata:v(e)},o));return F(c,e.body)},is=async(e,t)=>{let o=a({}),s=e.body,n=x(s,{message:R});Object.assign(o,n);let c=new Z(r({$metadata:v(e)},o));return F(c,e.body)},as=async(e,t)=>{let o=a({}),s=e.body,n=x(s,{message:R});Object.assign(o,n);let c=new ee(r({$metadata:v(e)},o));return F(c,e.body)},v=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),fo="accountId",oe="accessToken",ho="account_id",go="maxResults",yo="max_result",xo="nextToken",So="next_token",cs="roleName",ds="role_name",se="x-amz-sso_bearer_token"});var B,le=i(()=>{"use strict";H();$();d();A();w();G();B=class extends y.classBuilder().ep(C).m(function(t,o,s,n){return[g(s,this.serialize,this.deserialize),S(s,t.getEndpointParameterInstructions())]}).s("SWBPortalService","GetRoleCredentials",{}).n("SSOClient","GetRoleCredentialsCommand").f(eo,to).ser(no).de(mo).build(){}});var L,re=i(()=>{"use strict";H();$();d();A();w();G();L=class extends y.classBuilder().ep(C).m(function(t,o,s,n){return[g(s,this.serialize,this.deserialize),S(s,t.getEndpointParameterInstructions())]}).s("SWBPortalService","ListAccountRoles",{}).n("SSOClient","ListAccountRolesCommand").f(oo,void 0).ser(io).de(po).build(){}});var N,ne=i(()=>{"use strict";H();$();d();A();w();G();N=class extends y.classBuilder().ep(C).m(function(t,o,s,n){return[g(s,this.serialize,this.deserialize),S(s,t.getEndpointParameterInstructions())]}).s("SWBPortalService","ListAccounts",{}).n("SSOClient","ListAccountsCommand").f(so,void 0).ser(ao).de(lo).build(){}});var ie,ue=i(()=>{"use strict";H();$();d();A();w();G();ie=class extends y.classBuilder().ep(C).m(function(t,o,s,n){return[g(s,this.serialize,this.deserialize),S(s,t.getEndpointParameterInstructions())]}).s("SWBPortalService","Logout",{}).n("SSOClient","LogoutCommand").f(ro,void 0).ser(co).de(uo).build(){}});var ms,fe,Co=i(()=>{"use strict";d();le();re();ne();ue();U();ms={GetRoleCredentialsCommand:B,ListAccountRolesCommand:L,ListAccountsCommand:N,LogoutCommand:ie},fe=class extends f{};$e(ms,fe)});var vo=i(()=>{"use strict";le();re();ne();ue()});var Eo=i(()=>{"use strict"});var vn,_o=i(()=>{"use strict";D();re();U();vn=j(f,L,"nextToken","nextToken","maxResults")});var Pn,bo=i(()=>{"use strict";D();ne();U();Pn=j(f,N,"nextToken","nextToken","maxResults")});var Ro=i(()=>{"use strict";Eo();_o();bo()});var Po=i(()=>{"use strict";w()});var wo=i(()=>{"use strict";U();Co();vo();Ro();Po()});var ps=i(()=>{wo()});ps();export{B as GetRoleCredentialsCommand,f as SSOClient};
