import { createRequire } from 'node:module';
globalThis['require'] ??= createRequire(import.meta.url);
import{a as ie,b as Lr,c as ct,d as Qa}from"./chunk-OXRWZM6G.mjs";import{B as kr,E as ja,_ as Dr,aa as Fr,c as R,d as oe,e as N,ea as Ne,f as Cr,g as Ya,h as st,i as Pr,j as Xa,l as it,m as v,o as se,r as Y,s as vr,w as Mr,x as C,y as we}from"./chunk-QNKP6SCQ.mjs";import{e as at,i as Ka}from"./chunk-DUU7IDJR.mjs";import{b as Ur,c as P,d as $r}from"./chunk-HOM3E74A.mjs";import{a as Te,c as Se,e as W}from"./chunk-ZAAD4LGZ.mjs";import{f as Or,g as br}from"./chunk-WHYOH54Q.mjs";import{a as l,b as m,d as ne,e as c,f as _,i as Wa}from"./chunk-YJ4N4I6Q.mjs";var Za,Ja,Bf,ec=c(()=>{"use strict";N();Za=e=>t=>async r=>{if(!R.isInstance(r.request))return t(r);let{request:n}=r,{handlerProtocol:o=""}=e.requestHandler.metadata||{};if(o.indexOf("h2")>=0&&!n.headers[":authority"])delete n.headers.host,n.headers[":authority"]=n.hostname+(n.port?":"+n.port:"");else if(!n.headers.host){let s=n.hostname;n.port!=null&&(s+=`:${n.port}`),n.headers.host=s}return t(r)},Ja={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},Bf=e=>({applyToStack:t=>{t.add(Za(e),Ja)}})});var tc,rc,zf,Hr=c(()=>{"use strict";tc=()=>(e,t)=>async r=>{try{let o=await e(r),{clientName:s,commandName:i,logger:u,dynamoDbDocumentClientOptions:a={}}=t,{overrideInputFilterSensitiveLog:f,overrideOutputFilterSensitiveLog:p}=a,d=f??t.inputFilterSensitiveLog,g=p??t.outputFilterSensitiveLog,n=o.output,{$metadata:h}=n,E=ne(n,["$metadata"]);return u?.info?.({clientName:s,commandName:i,input:d(r.input),output:g(E),metadata:h}),o}catch(o){let{clientName:s,commandName:i,logger:u,dynamoDbDocumentClientOptions:a={}}=t,{overrideInputFilterSensitiveLog:f}=a,p=f??t.inputFilterSensitiveLog;throw u?.error?.({clientName:s,commandName:i,input:p(r.input),error:o,metadata:o.$metadata}),o}},rc={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},zf=e=>({applyToStack:t=>{t.add(tc(),rc)}})});var nc=c(()=>{"use strict";Hr()});var Vr,oc,sc,ic,ac,Qf,cc=c(()=>{"use strict";N();Vr="X-Amzn-Trace-Id",oc="AWS_LAMBDA_FUNCTION_NAME",sc="_X_AMZN_TRACE_ID",ic=e=>t=>async r=>{let{request:n}=r;if(!R.isInstance(n)||e.runtime!=="node"||n.headers.hasOwnProperty(Vr))return t(r);let o=process.env[oc],s=process.env[sc],i=u=>typeof u=="string"&&u.length>0;return i(o)&&i(s)&&(n.headers[Vr]=s),t(m(l({},r),{request:n}))},ac={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"},Qf=e=>({applyToStack:t=>{t.add(ic(e),ac)}})});var X,Gr=c(()=>{"use strict";W();X=e=>e[Se]||(e[Se]={})});var I,Br=c(()=>{"use strict";I=e=>{if(typeof e=="function")return e;let t=Promise.resolve(e);return()=>t}});var k=c(()=>{"use strict";Gr();Br()});function uc(e){let t=new Map;for(let r of e)t.set(r.schemeId,r);return t}var ut,_e=c(()=>{"use strict";W();k();ut=(e,t)=>(r,n)=>async o=>{let s=e.httpAuthSchemeProvider(await t.httpAuthSchemeParametersProvider(e,n,o.input)),i=uc(e.httpAuthSchemes),u=X(n),a=[];for(let f of s){let p=i.get(f.schemeId);if(!p){a.push(`HttpAuthScheme \`${f.schemeId}\` was not enabled for this service.`);continue}let d=p.identityProvider(await t.identityProviderConfigProvider(e));if(!d){a.push(`HttpAuthScheme \`${f.schemeId}\` did not have an IdentityProvider configured.`);continue}let{identityProperties:g={},signingProperties:h={}}=f.propertiesExtractor?.(e,n)||{};f.identityProperties=Object.assign(f.identityProperties||{},g),f.signingProperties=Object.assign(f.signingProperties||{},h),u.selectedHttpAuthScheme={httpAuthOption:f,identity:await d(f.identityProperties),signer:p.signer};break}if(!u.selectedHttpAuthScheme)throw new Error(a.join(`
`));return r(o)}});var fc,pp,qr=c(()=>{"use strict";_e();fc={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:"endpointV2Middleware"},pp=(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r})=>({applyToStack:n=>{n.addRelativeTo(ut(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r}),fc)}})});var zr,ft=c(()=>{"use strict";zr=(e,t)=>r=>async n=>{let{response:o}=await r(n);try{let s=await t(o,e);return{response:o,output:s}}catch(s){if(Object.defineProperty(s,"$response",{value:o}),!("$metadata"in s)){let i="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";s.message+=`
  `+i,typeof s.$responseBodyText<"u"&&s.$response&&(s.$response.body=s.$responseBodyText)}throw s}}});var Wr,pt=c(()=>{"use strict";Wr=(e,t)=>(r,n)=>async o=>{let s=n.endpointV2?.url&&e.urlParser?async()=>e.urlParser(n.endpointV2.url):e.endpoint;if(!s)throw new Error("No valid endpoint provider available.");let i=await t(o.input,m(l({},e),{endpoint:s}));return r(m(l({},o),{request:i}))}});function yp(e,t,r){return{applyToStack:n=>{n.add(zr(e,r),pc),n.add(Wr(e,t),ae)}}}var pc,ae,Yr=c(()=>{"use strict";ft();pt();pc={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},ae={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0}});var dt=c(()=>{"use strict";ft();Yr();pt()});var dc,lc,Xr,lt=c(()=>{"use strict";N();W();k();dc=e=>t=>{throw t},lc=(e,t)=>{},Xr=e=>(t,r)=>async n=>{if(!R.isInstance(n.request))return t(n);let s=X(r).selectedHttpAuthScheme;if(!s)throw new Error("No HttpAuthScheme was selected: unable to sign request");let{httpAuthOption:{signingProperties:i={}},identity:u,signer:a}=s,f=await t(m(l({},n),{request:await a.sign(n.request,u,i)})).catch((a.errorHandler||dc)(i));return(a.successHandler||lc)(f.response,i),f}});var gc,Pp,jr=c(()=>{"use strict";lt();gc={step:"finalizeRequest",tags:["HTTP_SIGNING"],name:"httpSigningMiddleware",aliases:["apiKeyMiddleware","tokenMiddleware","awsAuthMiddleware"],override:!0,relation:"after",toMiddleware:"retryMiddleware"},Pp=e=>({applyToStack:t=>{t.addRelativeTo(Xr(e),gc)}})});var Kr,Qr=c(()=>{"use strict";Kr=class{constructor(t){this.authSchemes=new Map;for(let[r,n]of Object.entries(t))n!==void 0&&this.authSchemes.set(r,n)}getIdentityProvider(t){return this.authSchemes.get(t)}}});var Zr=c(()=>{"use strict";W()});var Fp,Jr=c(()=>{"use strict";dt();_e();Fp={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:ae.name}});var en=c(()=>{"use strict";_e();qr();Jr()});var tn=c(()=>{"use strict";lt();jr()});var D,rn=c(()=>{"use strict";D=e=>{if(typeof e=="function")return e;let t=Promise.resolve(e);return()=>t}});function hc(e,t,r,n,o){return async function*(i,u,...a){let f=i.startingToken||void 0,p=!0,d;for(;p;){if(u[r]=f,o&&(u[o]=u[o]??i.pageSize),i.client instanceof e)d=await mc(t,i.client,u,...a);else throw new Error(`Invalid client, expected instance of ${e.name}`);yield d;let g=f;f=Ec(d,n),p=!!(f&&(!i.stopOnSameToken||f!==g))}return void 0}}var mc,Ec,nn=c(()=>{"use strict";mc=async(e,t,r,...n)=>await t.send(new e(r),...n);Ec=(e,t)=>{let r=e,n=t.split(".");for(let o of n){if(!r||typeof r!="object")return;r=r[o]}return r}});var on=c(()=>{"use strict";ja()});function sn(e,t,r){e.__smithy_context?e.__smithy_context.features||(e.__smithy_context.features={}):e.__smithy_context={features:{}},e.__smithy_context.features[t]=r}var an=c(()=>{"use strict"});var cn=c(()=>{"use strict";N();W()});var un=c(()=>{"use strict";N()});var fn,pn=c(()=>{"use strict";fn=class{async sign(t,r,n){return t}}});var dn=c(()=>{"use strict";cn();un();pn()});var yc,ln,gt,gn,mn=c(()=>{"use strict";yc=e=>t=>gt(t)&&t.expiration.getTime()-Date.now()<e,ln=yc(3e5),gt=e=>e.expiration!==void 0,gn=(e,t,r)=>{if(e===void 0)return;let n=typeof e!="function"?async()=>Promise.resolve(e):e,o,s,i,u=!1,a=async f=>{s||(s=n(f));try{o=await s,i=!0,u=!1}finally{s=void 0}return o};return t===void 0?async f=>((!i||f?.forceRefresh)&&(o=await a(f)),o):async f=>((!i||f?.forceRefresh)&&(o=await a(f)),u?o:r(o)?(t(o)&&await a(f),o):(u=!0,o))}});var hn=c(()=>{"use strict";Qr();dn();mn()});var ce=c(()=>{"use strict";Zr();en();tn();rn();nn();on();an();hn()});function Rc(e){return e===void 0?!0:typeof e=="string"&&e.length<=50}function Nd(e){let t=D(e.userAgentAppId??mt);return m(l({},e),{customUserAgent:typeof e.customUserAgent=="string"?[[e.customUserAgent]]:e.customUserAgent,userAgentAppId:async()=>{let r=await t();if(!Rc(r)){let n=e.logger?.constructor?.name==="NoOpLogger"||!e.logger?console:e.logger;typeof r!="string"?n?.warn("userAgentAppId must be a string or undefined."):r.length>50&&n?.warn("The provided userAgentAppId exceeds the maximum length of 50 characters.")}return r}})}var mt,En=c(()=>{"use strict";ce();mt=void 0});var yn,Rn=c(()=>{"use strict";yn=class{constructor({size:t,params:r}){this.data=new Map,this.parameters=[],this.capacity=t??50,r&&(this.parameters=r)}get(t,r){let n=this.hash(t);if(n===!1)return r();if(!this.data.has(n)){if(this.data.size>this.capacity+10){let o=this.data.keys(),s=0;for(;;){let{value:i,done:u}=o.next();if(this.data.delete(i),u||++s>10)break}}this.data.set(n,r())}return this.data.get(n)}size(){return this.data.size}hash(t){let r="",{parameters:n}=this;if(n.length===0)return!1;for(let o of n){let s=String(t[o]??"");if(s.includes("|;"))return!1;r+=s+"|;"}return r}}});var xc,ue,ht=c(()=>{"use strict";xc=new RegExp("^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$"),ue=e=>xc.test(e)||e.startsWith("[")&&e.endsWith("]")});var Ac,fe,Et=c(()=>{"use strict";Ac=new RegExp("^(?!.*-$)(?!-)[a-zA-Z0-9-]{1,63}$"),fe=(e,t=!1)=>{if(!t)return Ac.test(e);let r=e.split(".");for(let n of r)if(!fe(n))return!1;return!0}});var pe,Ie=c(()=>{"use strict";pe={}});var U,xn=c(()=>{"use strict";U="endpoints"});function O(e){return typeof e!="object"||e==null?e:"ref"in e?`$${O(e.ref)}`:"fn"in e?`${e.fn}(${(e.argv||[]).map(O).join(", ")})`:JSON.stringify(e,null,2)}var An=c(()=>{"use strict"});var de=c(()=>{"use strict";xn();An()});var y,Tn=c(()=>{"use strict";y=class extends Error{constructor(t){super(t),this.name="EndpointError"}}});var Sn=c(()=>{"use strict"});var wn=c(()=>{"use strict"});var Nn=c(()=>{"use strict"});var _n=c(()=>{"use strict"});var In=c(()=>{"use strict"});var On=c(()=>{"use strict"});var b=c(()=>{"use strict";Tn();Sn();wn();Nn();_n();In();On()});var bn,Cn=c(()=>{"use strict";bn=(e,t)=>e===t});var Pn,vn=c(()=>{"use strict";b();Pn=e=>{let t=e.split("."),r=[];for(let n of t){let o=n.indexOf("[");if(o!==-1){if(n.indexOf("]")!==n.length-1)throw new y(`Path: '${e}' does not end with ']'`);let s=n.slice(o+1,-1);if(Number.isNaN(parseInt(s)))throw new y(`Invalid array index: '${s}' in path: '${e}'`);o!==0&&r.push(n.slice(0,o)),r.push(s)}else r.push(n)}return r}});var Oe,Mn=c(()=>{"use strict";b();vn();Oe=(e,t)=>Pn(t).reduce((r,n)=>{if(typeof r!="object")throw new y(`Index '${n}' in '${t}' not found in '${JSON.stringify(e)}'`);return Array.isArray(r)?r[parseInt(n)]:r[n]},e)});var kn,Un=c(()=>{"use strict";kn=e=>e!=null});var $n,Dn=c(()=>{"use strict";$n=e=>!e});var yt,Fn,Ln=c(()=>{"use strict";W();ht();yt={[Te.HTTP]:80,[Te.HTTPS]:443},Fn=e=>{let t=(()=>{try{if(e instanceof URL)return e;if(typeof e=="object"&&"hostname"in e){let{hostname:g,port:h,protocol:E="",path:S="",query:x={}}=e,re=new URL(`${E}//${g}${h?`:${h}`:""}${S}`);return re.search=Object.entries(x).map(([qa,za])=>`${qa}=${za}`).join("&"),re}return new URL(e)}catch{return null}})();if(!t)return console.error(`Unable to parse ${JSON.stringify(e)} as a whatwg URL.`),null;let r=t.href,{host:n,hostname:o,pathname:s,protocol:i,search:u}=t;if(u)return null;let a=i.slice(0,-1);if(!Object.values(Te).includes(a))return null;let f=ue(o),p=r.includes(`${n}:${yt[a]}`)||typeof e=="string"&&e.includes(`${n}:${yt[a]}`),d=`${n}${p?`:${yt[a]}`:""}`;return{scheme:a,authority:d,path:s,normalizedPath:s.endsWith("/")?s:`${s}/`,isIp:f}}});var Hn,Vn=c(()=>{"use strict";Hn=(e,t)=>e===t});var Gn,Bn=c(()=>{"use strict";Gn=(e,t,r,n)=>t>=r||e.length<r?null:n?e.substring(e.length-r,e.length-t):e.substring(t,r)});var qn,zn=c(()=>{"use strict";qn=e=>encodeURIComponent(e).replace(/[!*'()]/g,t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`)});var Rt=c(()=>{"use strict";Cn();Mn();Un();Et();Dn();Ln();Vn();Bn();zn()});var Wn,Yn=c(()=>{"use strict";Rt();Wn={booleanEquals:bn,getAttr:Oe,isSet:kn,isValidHostLabel:fe,not:$n,parseURL:Fn,stringEquals:Hn,substring:Gn,uriEncode:qn}});var be,xt=c(()=>{"use strict";Rt();be=(e,t)=>{let r=[],n=l(l({},t.endpointParams),t.referenceRecord),o=0;for(;o<e.length;){let s=e.indexOf("{",o);if(s===-1){r.push(e.slice(o));break}r.push(e.slice(o,s));let i=e.indexOf("}",s);if(i===-1){r.push(e.slice(s));break}e[s+1]==="{"&&e[i+1]==="}"&&(r.push(e.slice(s+1,i)),o=i+2);let u=e.substring(s+1,i);if(u.includes("#")){let[a,f]=u.split("#");r.push(Oe(n[a],f))}else r.push(n[u]);o=i+1}return r.join("")}});var Xn,jn=c(()=>{"use strict";Xn=({ref:e},t)=>l(l({},t.endpointParams),t.referenceRecord)[e]});var F,le=c(()=>{"use strict";b();At();xt();jn();F=(e,t,r)=>{if(typeof e=="string")return be(e,r);if(e.fn)return Ce(e,r);if(e.ref)return Xn(e,r);throw new y(`'${t}': ${String(e)} is not a string, function or reference.`)}});var Ce,At=c(()=>{"use strict";Ie();Yn();le();Ce=({fn:e,argv:t},r)=>{let n=t.map(s=>["boolean","number"].includes(typeof s)?s:F(s,"arg",r)),o=e.split(".");return o[0]in pe&&o[1]!=null?pe[o[0]][o[1]](...n):Wn[e](...n)}});var Kn,Qn=c(()=>{"use strict";de();b();At();Kn=(n,r)=>{var o=n,{assign:e}=o,t=ne(o,["assign"]);if(e&&e in r.referenceRecord)throw new y(`'${e}' is already defined in Reference Record.`);let s=Ce(t,r);return r.logger?.debug?.(`${U} evaluateCondition: ${O(t)} = ${O(s)}`),l({result:s===""?!0:!!s},e!=null&&{toAssign:{name:e,value:s}})}});var j,Pe=c(()=>{"use strict";de();Qn();j=(e=[],t)=>{let r={};for(let n of e){let{result:o,toAssign:s}=Kn(n,m(l({},t),{referenceRecord:l(l({},t.referenceRecord),r)}));if(!o)return{result:o};s&&(r[s.name]=s.value,t.logger?.debug?.(`${U} assign: ${s.name} := ${O(s.value)}`))}return{result:!0,referenceRecord:r}}});var Zn,Jn=c(()=>{"use strict";b();le();Zn=(e,t)=>Object.entries(e).reduce((r,[n,o])=>m(l({},r),{[n]:o.map(s=>{let i=F(s,"Header value entry",t);if(typeof i!="string")throw new y(`Header '${n}' value '${i}' is not a string`);return i})}),{})});var Tt,eo=c(()=>{"use strict";b();xt();St();Tt=(e,t)=>{if(Array.isArray(e))return e.map(r=>Tt(r,t));switch(typeof e){case"string":return be(e,t);case"object":if(e===null)throw new y(`Unexpected endpoint property: ${e}`);return ve(e,t);case"boolean":return e;default:throw new y(`Unexpected endpoint property type: ${typeof e}`)}}});var ve,St=c(()=>{"use strict";eo();ve=(e,t)=>Object.entries(e).reduce((r,[n,o])=>m(l({},r),{[n]:Tt(o,t)}),{})});var to,ro=c(()=>{"use strict";b();le();to=(e,t)=>{let r=F(e,"Endpoint URL",t);if(typeof r=="string")try{return new URL(r)}catch(n){throw console.error(`Failed to construct URL with ${r}`,n),n}throw new y(`Endpoint URL must be a string, got ${typeof r}`)}});var no,oo=c(()=>{"use strict";de();Pe();Jn();St();ro();no=(e,t)=>{let{conditions:r,endpoint:n}=e,{result:o,referenceRecord:s}=j(r,t);if(!o)return;let i=m(l({},t),{referenceRecord:l(l({},t.referenceRecord),s)}),{url:u,properties:a,headers:f}=n;return t.logger?.debug?.(`${U} Resolving endpoint from template: ${O(n)}`),m(l(l({},f!=null&&{headers:Zn(f,i)}),a!=null&&{properties:ve(a,i)}),{url:to(u,i)})}});var so,io=c(()=>{"use strict";b();Pe();le();so=(e,t)=>{let{conditions:r,error:n}=e,{result:o,referenceRecord:s}=j(r,t);if(o)throw new y(F(n,"Error",m(l({},t),{referenceRecord:l(l({},t.referenceRecord),s)})))}});var ao,co=c(()=>{"use strict";Pe();wt();ao=(e,t)=>{let{conditions:r,rules:n}=e,{result:o,referenceRecord:s}=j(r,t);if(o)return Me(n,m(l({},t),{referenceRecord:l(l({},t.referenceRecord),s)}))}});var Me,wt=c(()=>{"use strict";b();oo();io();co();Me=(e,t)=>{for(let r of e)if(r.type==="endpoint"){let n=no(r,t);if(n)return n}else if(r.type==="error")so(r,t);else if(r.type==="tree"){let n=ao(r,t);if(n)return n}else throw new y(`Unknown endpoint rule: ${r}`);throw new y("Rules evaluation failed")}});var uo=c(()=>{"use strict";Ie();wt()});var Tc,fo=c(()=>{"use strict";de();b();uo();Tc=(e,t)=>{let{endpointParams:r,logger:n}=t,{parameters:o,rules:s}=e;t.logger?.debug?.(`${U} Initial EndpointParams: ${O(r)}`);let i=Object.entries(o).filter(([,f])=>f.default!=null).map(([f,p])=>[f,p.default]);if(i.length>0)for(let[f,p]of i)r[f]=r[f]??p;let u=Object.entries(o).filter(([,f])=>f.required).map(([f])=>f);for(let f of u)if(r[f]==null)throw new y(`Missing required parameter: '${f}'`);let a=Me(s,{endpointParams:r,logger:n,referenceRecord:{}});return t.logger?.debug?.(`${U} Resolved endpoint: ${O(a)}`),a}});var K=c(()=>{"use strict";Rn();ht();Et();Ie();fo();b()});var Nt=c(()=>{"use strict";K()});var _t,po=c(()=>{"use strict";K();Nt();_t=(e,t=!1)=>{if(t){for(let r of e.split("."))if(!_t(r))return!1;return!0}return!(!fe(e)||e.length<3||e.length>63||e!==e.toLowerCase()||ue(e))}});var lo,Sc,go,mo=c(()=>{"use strict";lo=":",Sc="/",go=e=>{let t=e.split(lo);if(t.length<6)return null;let[r,n,o,s,i,...u]=t;if(r!=="arn"||n===""||o===""||u.join(lo)==="")return null;let a=u.map(f=>f.split(Sc)).flat();return{partition:n,service:o,region:s,accountId:i,resourceId:a}}});var Eo,ho=c(()=>{Eo={partitions:[{id:"aws",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-east-1",name:"aws",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^(us|eu|ap|sa|ca|me|af|il|mx)\\-\\w+\\-\\d+$",regions:{"af-south-1":{description:"Africa (Cape Town)"},"ap-east-1":{description:"Asia Pacific (Hong Kong)"},"ap-northeast-1":{description:"Asia Pacific (Tokyo)"},"ap-northeast-2":{description:"Asia Pacific (Seoul)"},"ap-northeast-3":{description:"Asia Pacific (Osaka)"},"ap-south-1":{description:"Asia Pacific (Mumbai)"},"ap-south-2":{description:"Asia Pacific (Hyderabad)"},"ap-southeast-1":{description:"Asia Pacific (Singapore)"},"ap-southeast-2":{description:"Asia Pacific (Sydney)"},"ap-southeast-3":{description:"Asia Pacific (Jakarta)"},"ap-southeast-4":{description:"Asia Pacific (Melbourne)"},"ap-southeast-5":{description:"Asia Pacific (Malaysia)"},"aws-global":{description:"AWS Standard global region"},"ca-central-1":{description:"Canada (Central)"},"ca-west-1":{description:"Canada West (Calgary)"},"eu-central-1":{description:"Europe (Frankfurt)"},"eu-central-2":{description:"Europe (Zurich)"},"eu-north-1":{description:"Europe (Stockholm)"},"eu-south-1":{description:"Europe (Milan)"},"eu-south-2":{description:"Europe (Spain)"},"eu-west-1":{description:"Europe (Ireland)"},"eu-west-2":{description:"Europe (London)"},"eu-west-3":{description:"Europe (Paris)"},"il-central-1":{description:"Israel (Tel Aviv)"},"me-central-1":{description:"Middle East (UAE)"},"me-south-1":{description:"Middle East (Bahrain)"},"sa-east-1":{description:"South America (Sao Paulo)"},"us-east-1":{description:"US East (N. Virginia)"},"us-east-2":{description:"US East (Ohio)"},"us-west-1":{description:"US West (N. California)"},"us-west-2":{description:"US West (Oregon)"}}},{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn",dualStackDnsSuffix:"api.amazonwebservices.com.cn",implicitGlobalRegion:"cn-northwest-1",name:"aws-cn",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:{"aws-cn-global":{description:"AWS China global region"},"cn-north-1":{description:"China (Beijing)"},"cn-northwest-1":{description:"China (Ningxia)"}}},{id:"aws-us-gov",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-gov-west-1",name:"aws-us-gov",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-gov\\-\\w+\\-\\d+$",regions:{"aws-us-gov-global":{description:"AWS GovCloud (US) global region"},"us-gov-east-1":{description:"AWS GovCloud (US-East)"},"us-gov-west-1":{description:"AWS GovCloud (US-West)"}}},{id:"aws-iso",outputs:{dnsSuffix:"c2s.ic.gov",dualStackDnsSuffix:"c2s.ic.gov",implicitGlobalRegion:"us-iso-east-1",name:"aws-iso",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-iso\\-\\w+\\-\\d+$",regions:{"aws-iso-global":{description:"AWS ISO (US) global region"},"us-iso-east-1":{description:"US ISO East"},"us-iso-west-1":{description:"US ISO WEST"}}},{id:"aws-iso-b",outputs:{dnsSuffix:"sc2s.sgov.gov",dualStackDnsSuffix:"sc2s.sgov.gov",implicitGlobalRegion:"us-isob-east-1",name:"aws-iso-b",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isob\\-\\w+\\-\\d+$",regions:{"aws-iso-b-global":{description:"AWS ISOB (US) global region"},"us-isob-east-1":{description:"US ISOB East (Ohio)"}}},{id:"aws-iso-e",outputs:{dnsSuffix:"cloud.adc-e.uk",dualStackDnsSuffix:"cloud.adc-e.uk",implicitGlobalRegion:"eu-isoe-west-1",name:"aws-iso-e",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^eu\\-isoe\\-\\w+\\-\\d+$",regions:{"eu-isoe-west-1":{description:"EU ISOE West"}}},{id:"aws-iso-f",outputs:{dnsSuffix:"csp.hci.ic.gov",dualStackDnsSuffix:"csp.hci.ic.gov",implicitGlobalRegion:"us-isof-south-1",name:"aws-iso-f",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isof\\-\\w+\\-\\d+$",regions:{}}],version:"1.1"}});var Nc,_c,yo,Ro,It=c(()=>{"use strict";ho();Nc=Eo,_c="",yo=e=>{let{partitions:t}=Nc;for(let n of t){let{regions:o,outputs:s}=n;for(let[i,u]of Object.entries(o))if(i===e)return l(l({},s),u)}for(let n of t){let{regionRegex:o,outputs:s}=n;if(new RegExp(o).test(e))return l({},s)}let r=t.find(n=>n.id==="aws");if(!r)throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return l({},r.outputs)},Ro=()=>_c});var Ic,xo=c(()=>{"use strict";K();po();mo();It();Ic={isVirtualHostableS3Bucket:_t,parseArn:go,partition:yo};pe.aws=Ic});var Ao=c(()=>{"use strict";K()});var To=c(()=>{"use strict";K()});var So=c(()=>{"use strict"});var wo=c(()=>{"use strict"});var No=c(()=>{"use strict"});var _o=c(()=>{"use strict"});var Io=c(()=>{"use strict"});var Oo=c(()=>{"use strict";To();So();wo();No();_o();Io()});var bo=c(()=>{"use strict";xo();It();Nt();Ao();Oo()});var Ot,Co=c(()=>{"use strict";N();Ot=e=>oe.isInstance(e)?e.headers?.date??e.headers?.Date:void 0});var ke,bt=c(()=>{"use strict";ke=e=>new Date(Date.now()+e)});var Po,vo=c(()=>{"use strict";bt();Po=(e,t)=>Math.abs(ke(t).getTime()-e)>=3e5});var Ct,Mo=c(()=>{"use strict";vo();Ct=(e,t)=>{let r=Date.parse(e);return Po(r,t)?r-Date.now():t}});var ko=c(()=>{"use strict";Co();bt();Mo()});var ge,Uo,Pt,$o=c(()=>{"use strict";N();ko();ge=(e,t)=>{if(!t)throw new Error(`Property \`${e}\` is not resolved for AWS SDK SigV4Auth`);return t},Uo=async e=>{let t=ge("context",e.context),r=ge("config",e.config),n=t.endpointV2?.properties?.authSchemes?.[0],s=await ge("signer",r.signer)(n),i=e?.signingRegion,u=e?.signingRegionSet,a=e?.signingName;return{config:r,signer:s,signingRegion:i,signingRegionSet:u,signingName:a}},Pt=class{async sign(t,r,n){if(!R.isInstance(t))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");let o=await Uo(n),{config:s,signer:i}=o,{signingRegion:u,signingName:a}=o,f=n.context;if(f?.authSchemes?.length??!1){let[d,g]=f.authSchemes;d?.name==="sigv4a"&&g?.name==="sigv4"&&(u=g?.signingRegion??u,a=g?.signingName??a)}return await i.sign(t,{signingDate:ke(s.systemClockOffset),signingRegion:u,signingService:a})}errorHandler(t){return r=>{let n=r.ServerTime??Ot(r.$response);if(n){let o=ge("config",t.config),s=o.systemClockOffset;o.systemClockOffset=Ct(n,o.systemClockOffset),o.systemClockOffset!==s&&r.$metadata&&(r.$metadata.clockSkewCorrected=!0)}throw r}}successHandler(t,r){let n=Ot(t);if(n){let o=ge("config",r.config);o.systemClockOffset=Ct(n,o.systemClockOffset)}}}});var Do=c(()=>{"use strict";ce();br()});var Fo,Lo,vt,Ho,Vo,Mt,kt,Ut,$t,Oc,Go,Bo,me,qo,zo,Wo,Yo,Ue,Xo,jo,Ko,Dt,Qo,V=c(()=>{"use strict";Fo="X-Amz-Algorithm",Lo="X-Amz-Credential",vt="X-Amz-Date",Ho="X-Amz-SignedHeaders",Vo="X-Amz-Expires",Mt="X-Amz-Signature",kt="X-Amz-Security-Token",Ut="authorization",$t=vt.toLowerCase(),Oc="date",Go=[Ut,$t,Oc],Bo=Mt.toLowerCase(),me="x-amz-content-sha256",qo=kt.toLowerCase(),zo={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},Wo=/^proxy-/,Yo=/^sec-/,Ue="AWS4-HMAC-SHA256",Xo="AWS4-HMAC-SHA256-PAYLOAD",jo="UNSIGNED-PAYLOAD",Ko=50,Dt="aws4_request",Qo=60*60*24*7});var $e,Ft,De,Jo,Zo,Lt=c(()=>{"use strict";we();se();V();$e={},Ft=[],De=(e,t,r)=>`${e}/${t}/${r}/${Dt}`,Jo=async(e,t,r,n,o)=>{let s=await Zo(e,t.secretAccessKey,t.accessKeyId),i=`${r}:${n}:${o}:${C(s)}:${t.sessionToken}`;if(i in $e)return $e[i];for(Ft.push(i);Ft.length>Ko;)delete $e[Ft.shift()];let u=`AWS4${t.secretAccessKey}`;for(let a of[r,n,o,Dt])u=await Zo(e,u,a);return $e[i]=u},Zo=(e,t,r)=>{let n=new e(t);return n.update(v(r)),n.digest()}});var Fe,Ht=c(()=>{"use strict";V();Fe=({headers:e},t,r)=>{let n={};for(let o of Object.keys(e).sort()){if(e[o]==null)continue;let s=o.toLowerCase();(s in zo||t?.has(s)||Wo.test(s)||Yo.test(s))&&(!r||r&&!r.has(s))||(n[s]=e[o].trim().replace(/\s+/g," "))}return n}});var Vt,Gt=c(()=>{"use strict";vr();V();Vt=({query:e={}})=>{let t=[],r={};for(let n of Object.keys(e)){if(n.toLowerCase()===Bo)continue;let o=Y(n);t.push(o);let s=e[n];typeof s=="string"?r[o]=`${o}=${Y(s)}`:Array.isArray(s)&&(r[o]=s.slice(0).reduce((i,u)=>i.concat([`${o}=${Y(u)}`]),[]).sort().join("&"))}return t.sort().map(n=>r[n]).filter(n=>n).join("&")}});var he,Bt=c(()=>{"use strict";Ya();we();se();V();he=async({headers:e,body:t},r)=>{for(let n of Object.keys(e))if(n.toLowerCase()===me)return e[n];if(t==null)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";if(typeof t=="string"||ArrayBuffer.isView(t)||Cr(t)){let n=new r;return n.update(v(t)),C(await n.digest())}return jo}});function es(e){for(let t=0;t<8;t++)e[t]^=255;for(let t=7;t>-1&&(e[t]++,e[t]===0);t--);}var Le,bc,qt,ts=c(()=>{"use strict";we();se();Le=class{format(t){let r=[];for(let s of Object.keys(t)){let i=it(s);r.push(Uint8Array.from([i.byteLength]),i,this.formatHeaderValue(t[s]))}let n=new Uint8Array(r.reduce((s,i)=>s+i.byteLength,0)),o=0;for(let s of r)n.set(s,o),o+=s.byteLength;return n}formatHeaderValue(t){switch(t.type){case"boolean":return Uint8Array.from([t.value?0:1]);case"byte":return Uint8Array.from([2,t.value]);case"short":let r=new DataView(new ArrayBuffer(3));return r.setUint8(0,3),r.setInt16(1,t.value,!1),new Uint8Array(r.buffer);case"integer":let n=new DataView(new ArrayBuffer(5));return n.setUint8(0,4),n.setInt32(1,t.value,!1),new Uint8Array(n.buffer);case"long":let o=new Uint8Array(9);return o[0]=5,o.set(t.value.bytes,1),o;case"binary":let s=new DataView(new ArrayBuffer(3+t.value.byteLength));s.setUint8(0,6),s.setUint16(1,t.value.byteLength,!1);let i=new Uint8Array(s.buffer);return i.set(t.value,3),i;case"string":let u=it(t.value),a=new DataView(new ArrayBuffer(3+u.byteLength));a.setUint8(0,7),a.setUint16(1,u.byteLength,!1);let f=new Uint8Array(a.buffer);return f.set(u,3),f;case"timestamp":let p=new Uint8Array(9);return p[0]=8,p.set(qt.fromNumber(t.value.valueOf()).bytes,1),p;case"uuid":if(!bc.test(t.value))throw new Error(`Invalid UUID received: ${t.value}`);let d=new Uint8Array(17);return d[0]=9,d.set(Mr(t.value.replace(/\-/g,"")),1),d}}},bc=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/,qt=class e{constructor(t){if(this.bytes=t,t.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(t){if(t>9223372036854776e3||t<-9223372036854776e3)throw new Error(`${t} is too large (or, if negative, too small) to represent as an Int64`);let r=new Uint8Array(8);for(let n=7,o=Math.abs(Math.round(t));n>-1&&o>0;n--,o/=256)r[n]=o;return t<0&&es(r),new e(r)}valueOf(){let t=this.bytes.slice(0),r=t[0]&128;return r&&es(t),parseInt(C(t),16)*(r?-1:1)}toString(){return String(this.valueOf())}}});var rs,ns=c(()=>{"use strict";rs=(e,t)=>{e=e.toLowerCase();for(let r of Object.keys(t))if(e===r.toLowerCase())return!0;return!1}});var zt,Wt=c(()=>{"use strict";N();zt=(e,t={})=>{let{headers:r,query:n={}}=R.clone(e);for(let o of Object.keys(r)){let s=o.toLowerCase();(s.slice(0,6)==="x-amz-"&&!t.unhoistableHeaders?.has(s)||t.hoistableHeaders?.has(s))&&(n[o]=r[o],delete r[o])}return m(l({},e),{headers:r,query:n})}});var He,Yt=c(()=>{"use strict";N();V();He=e=>{e=R.clone(e);for(let t of Object.keys(e.headers))Go.indexOf(t.toLowerCase())>-1&&delete e.headers[t];return e}});var os,Cc,ss=c(()=>{"use strict";os=e=>Cc(e).toISOString().replace(/\.\d{3}Z$/,"Z"),Cc=e=>typeof e=="number"?new Date(e*1e3):typeof e=="string"?Number(e)?new Date(Number(e)*1e3):new Date(e):e});var Ee,Ve,is,as=c(()=>{"use strict";we();k();vr();se();V();Lt();Ht();Gt();Bt();ts();ns();Wt();Yt();ss();Ee=class{constructor({applyChecksum:t,credentials:r,region:n,service:o,sha256:s,uriEscapePath:i=!0}){this.headerFormatter=new Le,this.service=o,this.sha256=s,this.uriEscapePath=i,this.applyChecksum=typeof t=="boolean"?t:!0,this.regionProvider=I(n),this.credentialProvider=I(r)}async presign(t,r={}){let{signingDate:n=new Date,expiresIn:o=3600,unsignableHeaders:s,unhoistableHeaders:i,signableHeaders:u,hoistableHeaders:a,signingRegion:f,signingService:p}=r,d=await this.credentialProvider();this.validateResolvedCredentials(d);let g=f??await this.regionProvider(),{longDate:h,shortDate:E}=Ve(n);if(o>Qo)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");let S=De(E,g,p??this.service),x=zt(He(t),{unhoistableHeaders:i,hoistableHeaders:a});d.sessionToken&&(x.query[kt]=d.sessionToken),x.query[Fo]=Ue,x.query[Lo]=`${d.accessKeyId}/${S}`,x.query[vt]=h,x.query[Vo]=o.toString(10);let re=Fe(x,s,u);return x.query[Ho]=is(re),x.query[Mt]=await this.getSignature(h,S,this.getSigningKey(d,g,E,p),this.createCanonicalRequest(x,re,await he(t,this.sha256))),x}async sign(t,r){return typeof t=="string"?this.signString(t,r):t.headers&&t.payload?this.signEvent(t,r):t.message?this.signMessage(t,r):this.signRequest(t,r)}async signEvent({headers:t,payload:r},{signingDate:n=new Date,priorSignature:o,signingRegion:s,signingService:i}){let u=s??await this.regionProvider(),{shortDate:a,longDate:f}=Ve(n),p=De(a,u,i??this.service),d=await he({headers:{},body:r},this.sha256),g=new this.sha256;g.update(t);let h=C(await g.digest()),E=[Xo,f,p,o,h,d].join(`
`);return this.signString(E,{signingDate:n,signingRegion:u,signingService:i})}async signMessage(t,{signingDate:r=new Date,signingRegion:n,signingService:o}){return this.signEvent({headers:this.headerFormatter.format(t.message.headers),payload:t.message.body},{signingDate:r,signingRegion:n,signingService:o,priorSignature:t.priorSignature}).then(i=>({message:t.message,signature:i}))}async signString(t,{signingDate:r=new Date,signingRegion:n,signingService:o}={}){let s=await this.credentialProvider();this.validateResolvedCredentials(s);let i=n??await this.regionProvider(),{shortDate:u}=Ve(r),a=new this.sha256(await this.getSigningKey(s,i,u,o));return a.update(v(t)),C(await a.digest())}async signRequest(t,{signingDate:r=new Date,signableHeaders:n,unsignableHeaders:o,signingRegion:s,signingService:i}={}){let u=await this.credentialProvider();this.validateResolvedCredentials(u);let a=s??await this.regionProvider(),f=He(t),{longDate:p,shortDate:d}=Ve(r),g=De(d,a,i??this.service);f.headers[$t]=p,u.sessionToken&&(f.headers[qo]=u.sessionToken);let h=await he(f,this.sha256);!rs(me,f.headers)&&this.applyChecksum&&(f.headers[me]=h);let E=Fe(f,o,n),S=await this.getSignature(p,g,this.getSigningKey(u,a,d,i),this.createCanonicalRequest(f,E,h));return f.headers[Ut]=`${Ue} Credential=${u.accessKeyId}/${g}, SignedHeaders=${is(E)}, Signature=${S}`,f}createCanonicalRequest(t,r,n){let o=Object.keys(r).sort();return`${t.method}
${this.getCanonicalPath(t)}
${Vt(t)}
${o.map(s=>`${s}:${r[s]}`).join(`
`)}

${o.join(";")}
${n}`}async createStringToSign(t,r,n){let o=new this.sha256;o.update(v(n));let s=await o.digest();return`${Ue}
${t}
${r}
${C(s)}`}getCanonicalPath({path:t}){if(this.uriEscapePath){let r=[];for(let s of t.split("/"))s?.length!==0&&s!=="."&&(s===".."?r.pop():r.push(s));let n=`${t?.startsWith("/")?"/":""}${r.join("/")}${r.length>0&&t?.endsWith("/")?"/":""}`;return Y(n).replace(/%2F/g,"/")}return t}async getSignature(t,r,n,o){let s=await this.createStringToSign(t,r,o),i=new this.sha256(await n);return i.update(v(s)),C(await i.digest())}getSigningKey(t,r,n,o){return Jo(this.sha256,t,n,r,o||this.service)}validateResolvedCredentials(t){if(typeof t!="object"||typeof t.accessKeyId!="string"||typeof t.secretAccessKey!="string")throw new Error("Resolved credential object is not valid")}},Ve=e=>{let t=os(e).replace(/[\-:]/g,"");return{longDate:t,shortDate:t.slice(0,8)}},is=e=>Object.keys(e).sort().join(";")});var cs=c(()=>{"use strict";as();Ht();Gt();Bt();Wt();Yt();Lt()});var Ch,us=c(()=>{"use strict";$r();ce();cs();Ch=e=>{let t=!1,r;e.credentials&&(t=!0,r=gn(e.credentials,ln,gt)),r||(e.credentialDefaultProvider?r=D(e.credentialDefaultProvider(Object.assign({},e,{parentClientConfig:e}))):r=async()=>{throw new Error("`credentials` is missing")});let{signingEscapePath:n=!0,systemClockOffset:o=e.systemClockOffset||0,sha256:s}=e,i;return e.signer?i=D(e.signer):e.regionInfoProvider?i=()=>D(e.region)().then(async u=>[await e.regionInfoProvider(u,{useFipsEndpoint:await e.useFipsEndpoint(),useDualstackEndpoint:await e.useDualstackEndpoint()})||{},u]).then(([u,a])=>{let{signingRegion:f,signingService:p}=u;e.signingRegion=e.signingRegion||f||a,e.signingName=e.signingName||p||e.serviceId;let d=m(l({},e),{credentials:r,region:e.signingRegion,service:e.signingName,sha256:s,uriEscapePath:n}),g=e.signerConstructor||Ee;return new g(d)}):i=async u=>{u=Object.assign({},{name:"sigv4",signingName:e.signingName||e.defaultSigningName,signingRegion:await D(e.region)(),properties:{}},u);let a=u.signingRegion,f=u.signingName;e.signingRegion=e.signingRegion||a,e.signingName=e.signingName||f||e.serviceId;let p=m(l({},e),{credentials:r,region:e.signingRegion,service:e.signingName,sha256:s,uriEscapePath:n}),d=e.signerConstructor||Ee;return new d(p)},m(l({},e),{systemClockOffset:o,signingEscapePath:n,credentials:t?async()=>r().then(u=>Ur(u,"CREDENTIALS_CODE","e")):r,signer:i})}});var fs=c(()=>{"use strict";$o();Do();us()});var ps=c(()=>{"use strict";fs()});var ds=c(()=>{"use strict"});var ls=c(()=>{"use strict";Ne()});var Ge,Xt=c(()=>{"use strict";Ne();Ge=(e,t)=>kr(e,t).then(r=>t.utf8Encoder(r))});var Pc,Yh,Xh,gs=c(()=>{"use strict";Xt();Pc=(e,t)=>Ge(e,t).then(r=>{if(r.length)try{return JSON.parse(r)}catch(n){throw n?.name==="SyntaxError"&&Object.defineProperty(n,"$responseBodyText",{value:r}),n}return{}}),Yh=async(e,t)=>{let r=await Pc(e,t);return r.message=r.message??r.Message,r},Xh=(e,t)=>{let r=(s,i)=>Object.keys(s).find(u=>u.toLowerCase()===i.toLowerCase()),n=s=>{let i=s;return typeof i=="number"&&(i=i.toString()),i.indexOf(",")>=0&&(i=i.split(",")[0]),i.indexOf(":")>=0&&(i=i.split(":")[0]),i.indexOf("#")>=0&&(i=i.split("#")[1]),i},o=r(e.headers,"x-amzn-errortype");if(o!==void 0)return n(e.headers[o]);if(t.code!==void 0)return n(t.code);if(t.__type!==void 0)return n(t.__type)}});var Be=_($=>{"use strict";var ms=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",vc=ms+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040",hs="["+ms+"]["+vc+"]*",Mc=new RegExp("^"+hs+"$"),kc=function(e,t){let r=[],n=t.exec(e);for(;n;){let o=[];o.startIndex=t.lastIndex-n[0].length;let s=n.length;for(let i=0;i<s;i++)o.push(n[i]);r.push(o),n=t.exec(e)}return r},Uc=function(e){let t=Mc.exec(e);return!(t===null||typeof t>"u")};$.isExist=function(e){return typeof e<"u"};$.isEmptyObject=function(e){return Object.keys(e).length===0};$.merge=function(e,t,r){if(t){let n=Object.keys(t),o=n.length;for(let s=0;s<o;s++)r==="strict"?e[n[s]]=[t[n[s]]]:e[n[s]]=t[n[s]]}};$.getValue=function(e){return $.isExist(e)?e:""};$.isName=Uc;$.getAllMatches=kc;$.nameRegexp=hs});var Kt=_(As=>{"use strict";var jt=Be(),$c={allowBooleanAttributes:!1,unpairedTags:[]};As.validate=function(e,t){t=Object.assign({},$c,t);let r=[],n=!1,o=!1;e[0]==="\uFEFF"&&(e=e.substr(1));for(let s=0;s<e.length;s++)if(e[s]==="<"&&e[s+1]==="?"){if(s+=2,s=ys(e,s),s.err)return s}else if(e[s]==="<"){let i=s;if(s++,e[s]==="!"){s=Rs(e,s);continue}else{let u=!1;e[s]==="/"&&(u=!0,s++);let a="";for(;s<e.length&&e[s]!==">"&&e[s]!==" "&&e[s]!=="	"&&e[s]!==`
`&&e[s]!=="\r";s++)a+=e[s];if(a=a.trim(),a[a.length-1]==="/"&&(a=a.substring(0,a.length-1),s--),!qc(a)){let d;return a.trim().length===0?d="Invalid space after '<'.":d="Tag '"+a+"' is an invalid name.",A("InvalidTag",d,w(e,s))}let f=Lc(e,s);if(f===!1)return A("InvalidAttr","Attributes for '"+a+"' have open quote.",w(e,s));let p=f.value;if(s=f.index,p[p.length-1]==="/"){let d=s-p.length;p=p.substring(0,p.length-1);let g=xs(p,t);if(g===!0)n=!0;else return A(g.err.code,g.err.msg,w(e,d+g.err.line))}else if(u)if(f.tagClosed){if(p.trim().length>0)return A("InvalidTag","Closing tag '"+a+"' can't have attributes or invalid starting.",w(e,i));if(r.length===0)return A("InvalidTag","Closing tag '"+a+"' has not been opened.",w(e,i));{let d=r.pop();if(a!==d.tagName){let g=w(e,d.tagStartPos);return A("InvalidTag","Expected closing tag '"+d.tagName+"' (opened in line "+g.line+", col "+g.col+") instead of closing tag '"+a+"'.",w(e,i))}r.length==0&&(o=!0)}}else return A("InvalidTag","Closing tag '"+a+"' doesn't have proper closing.",w(e,s));else{let d=xs(p,t);if(d!==!0)return A(d.err.code,d.err.msg,w(e,s-p.length+d.err.line));if(o===!0)return A("InvalidXml","Multiple possible root nodes found.",w(e,s));t.unpairedTags.indexOf(a)!==-1||r.push({tagName:a,tagStartPos:i}),n=!0}for(s++;s<e.length;s++)if(e[s]==="<")if(e[s+1]==="!"){s++,s=Rs(e,s);continue}else if(e[s+1]==="?"){if(s=ys(e,++s),s.err)return s}else break;else if(e[s]==="&"){let d=Gc(e,s);if(d==-1)return A("InvalidChar","char '&' is not expected.",w(e,s));s=d}else if(o===!0&&!Es(e[s]))return A("InvalidXml","Extra text at the end",w(e,s));e[s]==="<"&&s--}}else{if(Es(e[s]))continue;return A("InvalidChar","char '"+e[s]+"' is not expected.",w(e,s))}if(n){if(r.length==1)return A("InvalidTag","Unclosed tag '"+r[0].tagName+"'.",w(e,r[0].tagStartPos));if(r.length>0)return A("InvalidXml","Invalid '"+JSON.stringify(r.map(s=>s.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1})}else return A("InvalidXml","Start tag expected.",1);return!0};function Es(e){return e===" "||e==="	"||e===`
`||e==="\r"}function ys(e,t){let r=t;for(;t<e.length;t++)if(e[t]=="?"||e[t]==" "){let n=e.substr(r,t-r);if(t>5&&n==="xml")return A("InvalidXml","XML declaration allowed only at the start of the document.",w(e,t));if(e[t]=="?"&&e[t+1]==">"){t++;break}else continue}return t}function Rs(e,t){if(e.length>t+5&&e[t+1]==="-"&&e[t+2]==="-"){for(t+=3;t<e.length;t++)if(e[t]==="-"&&e[t+1]==="-"&&e[t+2]===">"){t+=2;break}}else if(e.length>t+8&&e[t+1]==="D"&&e[t+2]==="O"&&e[t+3]==="C"&&e[t+4]==="T"&&e[t+5]==="Y"&&e[t+6]==="P"&&e[t+7]==="E"){let r=1;for(t+=8;t<e.length;t++)if(e[t]==="<")r++;else if(e[t]===">"&&(r--,r===0))break}else if(e.length>t+9&&e[t+1]==="["&&e[t+2]==="C"&&e[t+3]==="D"&&e[t+4]==="A"&&e[t+5]==="T"&&e[t+6]==="A"&&e[t+7]==="["){for(t+=8;t<e.length;t++)if(e[t]==="]"&&e[t+1]==="]"&&e[t+2]===">"){t+=2;break}}return t}var Dc='"',Fc="'";function Lc(e,t){let r="",n="",o=!1;for(;t<e.length;t++){if(e[t]===Dc||e[t]===Fc)n===""?n=e[t]:n!==e[t]||(n="");else if(e[t]===">"&&n===""){o=!0;break}r+=e[t]}return n!==""?!1:{value:r,index:t,tagClosed:o}}var Hc=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g");function xs(e,t){let r=jt.getAllMatches(e,Hc),n={};for(let o=0;o<r.length;o++){if(r[o][1].length===0)return A("InvalidAttr","Attribute '"+r[o][2]+"' has no space in starting.",ye(r[o]));if(r[o][3]!==void 0&&r[o][4]===void 0)return A("InvalidAttr","Attribute '"+r[o][2]+"' is without value.",ye(r[o]));if(r[o][3]===void 0&&!t.allowBooleanAttributes)return A("InvalidAttr","boolean attribute '"+r[o][2]+"' is not allowed.",ye(r[o]));let s=r[o][2];if(!Bc(s))return A("InvalidAttr","Attribute '"+s+"' is an invalid name.",ye(r[o]));if(!n.hasOwnProperty(s))n[s]=1;else return A("InvalidAttr","Attribute '"+s+"' is repeated.",ye(r[o]))}return!0}function Vc(e,t){let r=/\d/;for(e[t]==="x"&&(t++,r=/[\da-fA-F]/);t<e.length;t++){if(e[t]===";")return t;if(!e[t].match(r))break}return-1}function Gc(e,t){if(t++,e[t]===";")return-1;if(e[t]==="#")return t++,Vc(e,t);let r=0;for(;t<e.length;t++,r++)if(!(e[t].match(/\w/)&&r<20)){if(e[t]===";")break;return-1}return t}function A(e,t,r){return{err:{code:e,msg:t,line:r.line||r,col:r.col}}}function Bc(e){return jt.isName(e)}function qc(e){return jt.isName(e)}function w(e,t){let r=e.substring(0,t).split(/\r?\n/);return{line:r.length,col:r[r.length-1].length+1}}function ye(e){return e.startIndex+e[1].length}});var Ss=_(Qt=>{"use strict";var Ts={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(e,t){return t},attributeValueProcessor:function(e,t){return t},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(e,t,r){return e}},zc=function(e){return Object.assign({},Ts,e)};Qt.buildOptions=zc;Qt.defaultOptions=Ts});var Ns=_((Jh,ws)=>{"use strict";var Zt=class{constructor(t){this.tagname=t,this.child=[],this[":@"]={}}add(t,r){t==="__proto__"&&(t="#__proto__"),this.child.push({[t]:r})}addChild(t){t.tagname==="__proto__"&&(t.tagname="#__proto__"),t[":@"]&&Object.keys(t[":@"]).length>0?this.child.push({[t.tagname]:t.child,":@":t[":@"]}):this.child.push({[t.tagname]:t.child})}};ws.exports=Zt});var Is=_((eE,_s)=>{"use strict";var Wc=Be();function Yc(e,t){let r={};if(e[t+3]==="O"&&e[t+4]==="C"&&e[t+5]==="T"&&e[t+6]==="Y"&&e[t+7]==="P"&&e[t+8]==="E"){t=t+9;let n=1,o=!1,s=!1,i="";for(;t<e.length;t++)if(e[t]==="<"&&!s){if(o&&Kc(e,t))t+=7,[entityName,val,t]=Xc(e,t+1),val.indexOf("&")===-1&&(r[eu(entityName)]={regx:RegExp(`&${entityName};`,"g"),val});else if(o&&Qc(e,t))t+=8;else if(o&&Zc(e,t))t+=8;else if(o&&Jc(e,t))t+=9;else if(jc)s=!0;else throw new Error("Invalid DOCTYPE");n++,i=""}else if(e[t]===">"){if(s?e[t-1]==="-"&&e[t-2]==="-"&&(s=!1,n--):n--,n===0)break}else e[t]==="["?o=!0:i+=e[t];if(n!==0)throw new Error("Unclosed DOCTYPE")}else throw new Error("Invalid Tag instead of DOCTYPE");return{entities:r,i:t}}function Xc(e,t){let r="";for(;t<e.length&&e[t]!=="'"&&e[t]!=='"';t++)r+=e[t];if(r=r.trim(),r.indexOf(" ")!==-1)throw new Error("External entites are not supported");let n=e[t++],o="";for(;t<e.length&&e[t]!==n;t++)o+=e[t];return[r,o,t]}function jc(e,t){return e[t+1]==="!"&&e[t+2]==="-"&&e[t+3]==="-"}function Kc(e,t){return e[t+1]==="!"&&e[t+2]==="E"&&e[t+3]==="N"&&e[t+4]==="T"&&e[t+5]==="I"&&e[t+6]==="T"&&e[t+7]==="Y"}function Qc(e,t){return e[t+1]==="!"&&e[t+2]==="E"&&e[t+3]==="L"&&e[t+4]==="E"&&e[t+5]==="M"&&e[t+6]==="E"&&e[t+7]==="N"&&e[t+8]==="T"}function Zc(e,t){return e[t+1]==="!"&&e[t+2]==="A"&&e[t+3]==="T"&&e[t+4]==="T"&&e[t+5]==="L"&&e[t+6]==="I"&&e[t+7]==="S"&&e[t+8]==="T"}function Jc(e,t){return e[t+1]==="!"&&e[t+2]==="N"&&e[t+3]==="O"&&e[t+4]==="T"&&e[t+5]==="A"&&e[t+6]==="T"&&e[t+7]==="I"&&e[t+8]==="O"&&e[t+9]==="N"}function eu(e){if(Wc.isName(e))return e;throw new Error(`Invalid entity name ${e}`)}_s.exports=Yc});var bs=_((tE,Os)=>{"use strict";var tu=/^[-+]?0x[a-fA-F0-9]+$/,ru=/^([\-\+])?(0*)(\.[0-9]+([eE]\-?[0-9]+)?|[0-9]+(\.[0-9]+([eE]\-?[0-9]+)?)?)$/;!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt);!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);var nu={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};function ou(e,t={}){if(t=Object.assign({},nu,t),!e||typeof e!="string")return e;let r=e.trim();if(t.skipLike!==void 0&&t.skipLike.test(r))return e;if(t.hex&&tu.test(r))return Number.parseInt(r,16);{let n=ru.exec(r);if(n){let o=n[1],s=n[2],i=su(n[3]),u=n[4]||n[6];if(!t.leadingZeros&&s.length>0&&o&&r[2]!==".")return e;if(!t.leadingZeros&&s.length>0&&!o&&r[1]!==".")return e;{let a=Number(r),f=""+a;return f.search(/[eE]/)!==-1||u?t.eNotation?a:e:r.indexOf(".")!==-1?f==="0"&&i===""||f===i||o&&f==="-"+i?a:e:s?i===f||o+i===f?a:e:r===f||r===o+f?a:e}}else return e}}function su(e){return e&&e.indexOf(".")!==-1&&(e=e.replace(/0+$/,""),e==="."?e="0":e[0]==="."?e="0"+e:e[e.length-1]==="."&&(e=e.substr(0,e.length-1))),e}Os.exports=ou});var vs=_((rE,Ps)=>{"use strict";var Cs=Be(),Re=Ns(),iu=Is(),au=bs(),Jt=class{constructor(t){this.options=t,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"\xA2"},pound:{regex:/&(pound|#163);/g,val:"\xA3"},yen:{regex:/&(yen|#165);/g,val:"\xA5"},euro:{regex:/&(euro|#8364);/g,val:"\u20AC"},copyright:{regex:/&(copy|#169);/g,val:"\xA9"},reg:{regex:/&(reg|#174);/g,val:"\xAE"},inr:{regex:/&(inr|#8377);/g,val:"\u20B9"},num_dec:{regex:/&#([0-9]{1,7});/g,val:(r,n)=>String.fromCharCode(Number.parseInt(n,10))},num_hex:{regex:/&#x([0-9a-fA-F]{1,6});/g,val:(r,n)=>String.fromCharCode(Number.parseInt(n,16))}},this.addExternalEntities=cu,this.parseXml=lu,this.parseTextData=uu,this.resolveNameSpace=fu,this.buildAttributesMap=du,this.isItStopNode=Eu,this.replaceEntitiesValue=mu,this.readStopNodeData=Ru,this.saveTextToParentTag=hu,this.addChild=gu}};function cu(e){let t=Object.keys(e);for(let r=0;r<t.length;r++){let n=t[r];this.lastEntities[n]={regex:new RegExp("&"+n+";","g"),val:e[n]}}}function uu(e,t,r,n,o,s,i){if(e!==void 0&&(this.options.trimValues&&!n&&(e=e.trim()),e.length>0)){i||(e=this.replaceEntitiesValue(e));let u=this.options.tagValueProcessor(t,e,r,o,s);return u==null?e:typeof u!=typeof e||u!==e?u:this.options.trimValues?tr(e,this.options.parseTagValue,this.options.numberParseOptions):e.trim()===e?tr(e,this.options.parseTagValue,this.options.numberParseOptions):e}}function fu(e){if(this.options.removeNSPrefix){let t=e.split(":"),r=e.charAt(0)==="/"?"/":"";if(t[0]==="xmlns")return"";t.length===2&&(e=r+t[1])}return e}var pu=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");function du(e,t,r){if(!this.options.ignoreAttributes&&typeof e=="string"){let n=Cs.getAllMatches(e,pu),o=n.length,s={};for(let i=0;i<o;i++){let u=this.resolveNameSpace(n[i][1]),a=n[i][4],f=this.options.attributeNamePrefix+u;if(u.length)if(this.options.transformAttributeName&&(f=this.options.transformAttributeName(f)),f==="__proto__"&&(f="#__proto__"),a!==void 0){this.options.trimValues&&(a=a.trim()),a=this.replaceEntitiesValue(a);let p=this.options.attributeValueProcessor(u,a,t);p==null?s[f]=a:typeof p!=typeof a||p!==a?s[f]=p:s[f]=tr(a,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(s[f]=!0)}if(!Object.keys(s).length)return;if(this.options.attributesGroupName){let i={};return i[this.options.attributesGroupName]=s,i}return s}}var lu=function(e){e=e.replace(/\r\n?/g,`
`);let t=new Re("!xml"),r=t,n="",o="";for(let s=0;s<e.length;s++)if(e[s]==="<")if(e[s+1]==="/"){let u=G(e,">",s,"Closing Tag is not closed."),a=e.substring(s+2,u).trim();if(this.options.removeNSPrefix){let d=a.indexOf(":");d!==-1&&(a=a.substr(d+1))}this.options.transformTagName&&(a=this.options.transformTagName(a)),r&&(n=this.saveTextToParentTag(n,r,o));let f=o.substring(o.lastIndexOf(".")+1);if(a&&this.options.unpairedTags.indexOf(a)!==-1)throw new Error(`Unpaired tag can not be used as closing tag: </${a}>`);let p=0;f&&this.options.unpairedTags.indexOf(f)!==-1?(p=o.lastIndexOf(".",o.lastIndexOf(".")-1),this.tagsNodeStack.pop()):p=o.lastIndexOf("."),o=o.substring(0,p),r=this.tagsNodeStack.pop(),n="",s=u}else if(e[s+1]==="?"){let u=er(e,s,!1,"?>");if(!u)throw new Error("Pi Tag is not closed.");if(n=this.saveTextToParentTag(n,r,o),!(this.options.ignoreDeclaration&&u.tagName==="?xml"||this.options.ignorePiTags)){let a=new Re(u.tagName);a.add(this.options.textNodeName,""),u.tagName!==u.tagExp&&u.attrExpPresent&&(a[":@"]=this.buildAttributesMap(u.tagExp,o,u.tagName)),this.addChild(r,a,o)}s=u.closeIndex+1}else if(e.substr(s+1,3)==="!--"){let u=G(e,"-->",s+4,"Comment is not closed.");if(this.options.commentPropName){let a=e.substring(s+4,u-2);n=this.saveTextToParentTag(n,r,o),r.add(this.options.commentPropName,[{[this.options.textNodeName]:a}])}s=u}else if(e.substr(s+1,2)==="!D"){let u=iu(e,s);this.docTypeEntities=u.entities,s=u.i}else if(e.substr(s+1,2)==="!["){let u=G(e,"]]>",s,"CDATA is not closed.")-2,a=e.substring(s+9,u);n=this.saveTextToParentTag(n,r,o);let f=this.parseTextData(a,r.tagname,o,!0,!1,!0,!0);f==null&&(f=""),this.options.cdataPropName?r.add(this.options.cdataPropName,[{[this.options.textNodeName]:a}]):r.add(this.options.textNodeName,f),s=u+2}else{let u=er(e,s,this.options.removeNSPrefix),a=u.tagName,f=u.rawTagName,p=u.tagExp,d=u.attrExpPresent,g=u.closeIndex;this.options.transformTagName&&(a=this.options.transformTagName(a)),r&&n&&r.tagname!=="!xml"&&(n=this.saveTextToParentTag(n,r,o,!1));let h=r;if(h&&this.options.unpairedTags.indexOf(h.tagname)!==-1&&(r=this.tagsNodeStack.pop(),o=o.substring(0,o.lastIndexOf("."))),a!==t.tagname&&(o+=o?"."+a:a),this.isItStopNode(this.options.stopNodes,o,a)){let E="";if(p.length>0&&p.lastIndexOf("/")===p.length-1)a[a.length-1]==="/"?(a=a.substr(0,a.length-1),o=o.substr(0,o.length-1),p=a):p=p.substr(0,p.length-1),s=u.closeIndex;else if(this.options.unpairedTags.indexOf(a)!==-1)s=u.closeIndex;else{let x=this.readStopNodeData(e,f,g+1);if(!x)throw new Error(`Unexpected end of ${f}`);s=x.i,E=x.tagContent}let S=new Re(a);a!==p&&d&&(S[":@"]=this.buildAttributesMap(p,o,a)),E&&(E=this.parseTextData(E,a,o,!0,d,!0,!0)),o=o.substr(0,o.lastIndexOf(".")),S.add(this.options.textNodeName,E),this.addChild(r,S,o)}else{if(p.length>0&&p.lastIndexOf("/")===p.length-1){a[a.length-1]==="/"?(a=a.substr(0,a.length-1),o=o.substr(0,o.length-1),p=a):p=p.substr(0,p.length-1),this.options.transformTagName&&(a=this.options.transformTagName(a));let E=new Re(a);a!==p&&d&&(E[":@"]=this.buildAttributesMap(p,o,a)),this.addChild(r,E,o),o=o.substr(0,o.lastIndexOf("."))}else{let E=new Re(a);this.tagsNodeStack.push(r),a!==p&&d&&(E[":@"]=this.buildAttributesMap(p,o,a)),this.addChild(r,E,o),r=E}n="",s=g}}else n+=e[s];return t.child};function gu(e,t,r){let n=this.options.updateTag(t.tagname,r,t[":@"]);n===!1||(typeof n=="string"&&(t.tagname=n),e.addChild(t))}var mu=function(e){if(this.options.processEntities){for(let t in this.docTypeEntities){let r=this.docTypeEntities[t];e=e.replace(r.regx,r.val)}for(let t in this.lastEntities){let r=this.lastEntities[t];e=e.replace(r.regex,r.val)}if(this.options.htmlEntities)for(let t in this.htmlEntities){let r=this.htmlEntities[t];e=e.replace(r.regex,r.val)}e=e.replace(this.ampEntity.regex,this.ampEntity.val)}return e};function hu(e,t,r,n){return e&&(n===void 0&&(n=Object.keys(t.child).length===0),e=this.parseTextData(e,t.tagname,r,!1,t[":@"]?Object.keys(t[":@"]).length!==0:!1,n),e!==void 0&&e!==""&&t.add(this.options.textNodeName,e),e=""),e}function Eu(e,t,r){let n="*."+r;for(let o in e){let s=e[o];if(n===s||t===s)return!0}return!1}function yu(e,t,r=">"){let n,o="";for(let s=t;s<e.length;s++){let i=e[s];if(n)i===n&&(n="");else if(i==='"'||i==="'")n=i;else if(i===r[0])if(r[1]){if(e[s+1]===r[1])return{data:o,index:s}}else return{data:o,index:s};else i==="	"&&(i=" ");o+=i}}function G(e,t,r,n){let o=e.indexOf(t,r);if(o===-1)throw new Error(n);return o+t.length-1}function er(e,t,r,n=">"){let o=yu(e,t+1,n);if(!o)return;let s=o.data,i=o.index,u=s.search(/\s/),a=s,f=!0;u!==-1&&(a=s.substring(0,u),s=s.substring(u+1).trimStart());let p=a;if(r){let d=a.indexOf(":");d!==-1&&(a=a.substr(d+1),f=a!==o.data.substr(d+1))}return{tagName:a,tagExp:s,closeIndex:i,attrExpPresent:f,rawTagName:p}}function Ru(e,t,r){let n=r,o=1;for(;r<e.length;r++)if(e[r]==="<")if(e[r+1]==="/"){let s=G(e,">",r,`${t} is not closed`);if(e.substring(r+2,s).trim()===t&&(o--,o===0))return{tagContent:e.substring(n,r),i:s};r=s}else if(e[r+1]==="?")r=G(e,"?>",r+1,"StopNode is not closed.");else if(e.substr(r+1,3)==="!--")r=G(e,"-->",r+3,"StopNode is not closed.");else if(e.substr(r+1,2)==="![")r=G(e,"]]>",r,"StopNode is not closed.")-2;else{let s=er(e,r,">");s&&((s&&s.tagName)===t&&s.tagExp[s.tagExp.length-1]!=="/"&&o++,r=s.closeIndex)}}function tr(e,t,r){if(t&&typeof e=="string"){let n=e.trim();return n==="true"?!0:n==="false"?!1:au(e,r)}else return Cs.isExist(e)?e:""}Ps.exports=Jt});var Us=_(ks=>{"use strict";function xu(e,t){return Ms(e,t)}function Ms(e,t,r){let n,o={};for(let s=0;s<e.length;s++){let i=e[s],u=Au(i),a="";if(r===void 0?a=u:a=r+"."+u,u===t.textNodeName)n===void 0?n=i[u]:n+=""+i[u];else{if(u===void 0)continue;if(i[u]){let f=Ms(i[u],t,a),p=Su(f,t);i[":@"]?Tu(f,i[":@"],a,t):Object.keys(f).length===1&&f[t.textNodeName]!==void 0&&!t.alwaysCreateTextNode?f=f[t.textNodeName]:Object.keys(f).length===0&&(t.alwaysCreateTextNode?f[t.textNodeName]="":f=""),o[u]!==void 0&&o.hasOwnProperty(u)?(Array.isArray(o[u])||(o[u]=[o[u]]),o[u].push(f)):t.isArray(u,a,p)?o[u]=[f]:o[u]=f}}}return typeof n=="string"?n.length>0&&(o[t.textNodeName]=n):n!==void 0&&(o[t.textNodeName]=n),o}function Au(e){let t=Object.keys(e);for(let r=0;r<t.length;r++){let n=t[r];if(n!==":@")return n}}function Tu(e,t,r,n){if(t){let o=Object.keys(t),s=o.length;for(let i=0;i<s;i++){let u=o[i];n.isArray(u,r+"."+u,!0,!0)?e[u]=[t[u]]:e[u]=t[u]}}}function Su(e,t){let{textNodeName:r}=t,n=Object.keys(e).length;return!!(n===0||n===1&&(e[r]||typeof e[r]=="boolean"||e[r]===0))}ks.prettify=xu});var Ds=_((oE,$s)=>{"use strict";var{buildOptions:wu}=Ss(),Nu=vs(),{prettify:_u}=Us(),Iu=Kt(),rr=class{constructor(t){this.externalEntities={},this.options=wu(t)}parse(t,r){if(typeof t!="string")if(t.toString)t=t.toString();else throw new Error("XML data is accepted in String or Bytes[] form.");if(r){r===!0&&(r={});let s=Iu.validate(t,r);if(s!==!0)throw Error(`${s.err.msg}:${s.err.line}:${s.err.col}`)}let n=new Nu(this.options);n.addExternalEntities(this.externalEntities);let o=n.parseXml(t);return this.options.preserveOrder||o===void 0?o:_u(o,this.options)}addEntity(t,r){if(r.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(t.indexOf("&")!==-1||t.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(r==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[t]=r}};$s.exports=rr});var Gs=_((sE,Vs)=>{"use strict";var Ou=`
`;function bu(e,t){let r="";return t.format&&t.indentBy.length>0&&(r=Ou),Ls(e,t,"",r)}function Ls(e,t,r,n){let o="",s=!1;for(let i=0;i<e.length;i++){let u=e[i],a=Cu(u);if(a===void 0)continue;let f="";if(r.length===0?f=a:f=`${r}.${a}`,a===t.textNodeName){let E=u[a];Pu(f,t)||(E=t.tagValueProcessor(a,E),E=Hs(E,t)),s&&(o+=n),o+=E,s=!1;continue}else if(a===t.cdataPropName){s&&(o+=n),o+=`<![CDATA[${u[a][0][t.textNodeName]}]]>`,s=!1;continue}else if(a===t.commentPropName){o+=n+`<!--${u[a][0][t.textNodeName]}-->`,s=!0;continue}else if(a[0]==="?"){let E=Fs(u[":@"],t),S=a==="?xml"?"":n,x=u[a][0][t.textNodeName];x=x.length!==0?" "+x:"",o+=S+`<${a}${x}${E}?>`,s=!0;continue}let p=n;p!==""&&(p+=t.indentBy);let d=Fs(u[":@"],t),g=n+`<${a}${d}`,h=Ls(u[a],t,f,p);t.unpairedTags.indexOf(a)!==-1?t.suppressUnpairedNode?o+=g+">":o+=g+"/>":(!h||h.length===0)&&t.suppressEmptyNode?o+=g+"/>":h&&h.endsWith(">")?o+=g+`>${h}${n}</${a}>`:(o+=g+">",h&&n!==""&&(h.includes("/>")||h.includes("</"))?o+=n+t.indentBy+h+n:o+=h,o+=`</${a}>`),s=!0}return o}function Cu(e){let t=Object.keys(e);for(let r=0;r<t.length;r++){let n=t[r];if(e.hasOwnProperty(n)&&n!==":@")return n}}function Fs(e,t){let r="";if(e&&!t.ignoreAttributes)for(let n in e){if(!e.hasOwnProperty(n))continue;let o=t.attributeValueProcessor(n,e[n]);o=Hs(o,t),o===!0&&t.suppressBooleanAttributes?r+=` ${n.substr(t.attributeNamePrefix.length)}`:r+=` ${n.substr(t.attributeNamePrefix.length)}="${o}"`}return r}function Pu(e,t){e=e.substr(0,e.length-t.textNodeName.length-1);let r=e.substr(e.lastIndexOf(".")+1);for(let n in t.stopNodes)if(t.stopNodes[n]===e||t.stopNodes[n]==="*."+r)return!0;return!1}function Hs(e,t){if(e&&e.length>0&&t.processEntities)for(let r=0;r<t.entities.length;r++){let n=t.entities[r];e=e.replace(n.regex,n.val)}return e}Vs.exports=bu});var qs=_((iE,Bs)=>{"use strict";var vu=Gs(),Mu={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(e,t){return t},attributeValueProcessor:function(e,t){return t},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],oneListGroup:!1};function L(e){this.options=Object.assign({},Mu,e),this.options.ignoreAttributes||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=$u),this.processTextOrObjNode=ku,this.options.format?(this.indentate=Uu,this.tagEndChar=`>
`,this.newLine=`
`):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}L.prototype.build=function(e){return this.options.preserveOrder?vu(e,this.options):(Array.isArray(e)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(e={[this.options.arrayNodeName]:e}),this.j2x(e,0).val)};L.prototype.j2x=function(e,t){let r="",n="";for(let o in e)if(Object.prototype.hasOwnProperty.call(e,o))if(typeof e[o]>"u")this.isAttribute(o)&&(n+="");else if(e[o]===null)this.isAttribute(o)?n+="":o[0]==="?"?n+=this.indentate(t)+"<"+o+"?"+this.tagEndChar:n+=this.indentate(t)+"<"+o+"/"+this.tagEndChar;else if(e[o]instanceof Date)n+=this.buildTextValNode(e[o],o,"",t);else if(typeof e[o]!="object"){let s=this.isAttribute(o);if(s)r+=this.buildAttrPairStr(s,""+e[o]);else if(o===this.options.textNodeName){let i=this.options.tagValueProcessor(o,""+e[o]);n+=this.replaceEntitiesValue(i)}else n+=this.buildTextValNode(e[o],o,"",t)}else if(Array.isArray(e[o])){let s=e[o].length,i="",u="";for(let a=0;a<s;a++){let f=e[o][a];if(!(typeof f>"u"))if(f===null)o[0]==="?"?n+=this.indentate(t)+"<"+o+"?"+this.tagEndChar:n+=this.indentate(t)+"<"+o+"/"+this.tagEndChar;else if(typeof f=="object")if(this.options.oneListGroup){let p=this.j2x(f,t+1);i+=p.val,this.options.attributesGroupName&&f.hasOwnProperty(this.options.attributesGroupName)&&(u+=p.attrStr)}else i+=this.processTextOrObjNode(f,o,t);else if(this.options.oneListGroup){let p=this.options.tagValueProcessor(o,f);p=this.replaceEntitiesValue(p),i+=p}else i+=this.buildTextValNode(f,o,"",t)}this.options.oneListGroup&&(i=this.buildObjectNode(i,o,u,t)),n+=i}else if(this.options.attributesGroupName&&o===this.options.attributesGroupName){let s=Object.keys(e[o]),i=s.length;for(let u=0;u<i;u++)r+=this.buildAttrPairStr(s[u],""+e[o][s[u]])}else n+=this.processTextOrObjNode(e[o],o,t);return{attrStr:r,val:n}};L.prototype.buildAttrPairStr=function(e,t){return t=this.options.attributeValueProcessor(e,""+t),t=this.replaceEntitiesValue(t),this.options.suppressBooleanAttributes&&t==="true"?" "+e:" "+e+'="'+t+'"'};function ku(e,t,r){let n=this.j2x(e,r+1);return e[this.options.textNodeName]!==void 0&&Object.keys(e).length===1?this.buildTextValNode(e[this.options.textNodeName],t,n.attrStr,r):this.buildObjectNode(n.val,t,n.attrStr,r)}L.prototype.buildObjectNode=function(e,t,r,n){if(e==="")return t[0]==="?"?this.indentate(n)+"<"+t+r+"?"+this.tagEndChar:this.indentate(n)+"<"+t+r+this.closeTag(t)+this.tagEndChar;{let o="</"+t+this.tagEndChar,s="";return t[0]==="?"&&(s="?",o=""),(r||r==="")&&e.indexOf("<")===-1?this.indentate(n)+"<"+t+r+s+">"+e+o:this.options.commentPropName!==!1&&t===this.options.commentPropName&&s.length===0?this.indentate(n)+`<!--${e}-->`+this.newLine:this.indentate(n)+"<"+t+r+s+this.tagEndChar+e+this.indentate(n)+o}};L.prototype.closeTag=function(e){let t="";return this.options.unpairedTags.indexOf(e)!==-1?this.options.suppressUnpairedNode||(t="/"):this.options.suppressEmptyNode?t="/":t=`></${e}`,t};L.prototype.buildTextValNode=function(e,t,r,n){if(this.options.cdataPropName!==!1&&t===this.options.cdataPropName)return this.indentate(n)+`<![CDATA[${e}]]>`+this.newLine;if(this.options.commentPropName!==!1&&t===this.options.commentPropName)return this.indentate(n)+`<!--${e}-->`+this.newLine;if(t[0]==="?")return this.indentate(n)+"<"+t+r+"?"+this.tagEndChar;{let o=this.options.tagValueProcessor(t,e);return o=this.replaceEntitiesValue(o),o===""?this.indentate(n)+"<"+t+r+this.closeTag(t)+this.tagEndChar:this.indentate(n)+"<"+t+r+">"+o+"</"+t+this.tagEndChar}};L.prototype.replaceEntitiesValue=function(e){if(e&&e.length>0&&this.options.processEntities)for(let t=0;t<this.options.entities.length;t++){let r=this.options.entities[t];e=e.replace(r.regex,r.val)}return e};function Uu(e){return this.options.indentBy.repeat(e)}function $u(e){return e.startsWith(this.options.attributeNamePrefix)&&e!==this.options.textNodeName?e.substr(this.attrPrefixLen):!1}Bs.exports=L});var Ws=_((aE,zs)=>{"use strict";var Du=Kt(),Fu=Ds(),Lu=qs();zs.exports={XMLParser:Fu,XMLValidator:Du,XMLBuilder:Lu}});var Ys,Hu,fE,Xs=c(()=>{"use strict";Ne();Ys=Wa(Ws());Xt();Hu=(e,t)=>Ge(e,t).then(r=>{if(r.length){let n=new Ys.XMLParser({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(a,f)=>f.trim()===""&&f.includes(`
`)?"":void 0});n.addEntity("#xD","\r"),n.addEntity("#10",`
`);let o;try{o=n.parse(r,!0)}catch(a){throw a&&typeof a=="object"&&Object.defineProperty(a,"$responseBodyText",{value:r}),a}let s="#text",i=Object.keys(o)[0],u=o[i];return u[s]&&(u[i]=u[s],delete u[s]),Dr(u)}return{}}),fE=async(e,t)=>{let r=await Hu(e,t);return r.Error&&(r.Error.message=r.Error.message??r.Error.Message),r}});var js=c(()=>{"use strict";ds();ls();gs();Xs()});var Ks=c(()=>{"use strict";$r();ps();js()});async function Qs(e,t,r){if(r.request?.headers?.["smithy-protocol"]==="rpc-v2-cbor"&&P(e,"PROTOCOL_RPC_V2_CBOR","M"),typeof t.retryStrategy=="function"){let s=await t.retryStrategy();typeof s.acquireInitialRetryToken=="function"?s.constructor?.name?.includes("Adaptive")?P(e,"RETRY_MODE_ADAPTIVE","F"):P(e,"RETRY_MODE_STANDARD","E"):P(e,"RETRY_MODE_LEGACY","D")}if(typeof t.accountIdEndpointMode=="function"){let s=e.endpointV2;switch(String(s?.url?.hostname).match(Vu)&&P(e,"ACCOUNT_ID_ENDPOINT","O"),await t.accountIdEndpointMode?.()){case"disabled":P(e,"ACCOUNT_ID_MODE_DISABLED","Q");break;case"preferred":P(e,"ACCOUNT_ID_MODE_PREFERRED","P");break;case"required":P(e,"ACCOUNT_ID_MODE_REQUIRED","R");break}}let o=e.__smithy_context?.selectedHttpAuthScheme?.identity;if(o?.$source){let s=o;s.accountId&&P(e,"RESOLVED_ACCOUNT_ID","T");for(let[i,u]of Object.entries(s.$source??{}))P(e,i,u)}}var Vu,Zs=c(()=>{"use strict";Ks();Vu=/\d{12}\.ddb/});var nr,qe,or,ze,Js,ei,sr,ti=c(()=>{"use strict";nr="user-agent",qe="x-amz-user-agent",or=" ",ze="/",Js=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,ei=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w\#]/g,sr="-"});function ri(e){let t="";for(let r in e){let n=e[r];if(t.length+n.length+1<=1024){t.length?t+=","+n:t+=n;continue}break}return t}var ni=c(()=>{"use strict"});var Gu,We,Bu,CE,oi=c(()=>{"use strict";bo();N();Zs();ti();ni();Gu=e=>(t,r)=>async n=>{let{request:o}=n;if(!R.isInstance(o))return t(n);let{headers:s}=o,i=r?.userAgent?.map(We)||[],u=(await e.defaultUserAgentProvider()).map(We);await Qs(r,e,n);let a=r;u.push(`m/${ri(Object.assign({},r.__smithy_context?.features,a.__aws_sdk_context?.features))}`);let f=e?.customUserAgent?.map(We)||[],p=await e.userAgentAppId();p&&u.push(We([`app/${p}`]));let d=Ro(),g=(d?[d]:[]).concat([...u,...i,...f]).join(or),h=[...u.filter(E=>E.startsWith("aws-sdk-")),...f].join(or);return e.runtime!=="browser"?(h&&(s[qe]=s[qe]?`${s[nr]} ${h}`:h),s[nr]=g):s[qe]=g,t(m(l({},n),{request:o}))},We=e=>{let t=e[0].split(ze).map(i=>i.replace(Js,sr)).join(ze),r=e[1]?.replace(ei,sr),n=t.indexOf(ze),o=t.substring(0,n),s=t.substring(n+1);return o==="api"&&(s=s.toLowerCase()),[o,s,r].filter(i=>i&&i.length>0).reduce((i,u,a)=>{switch(a){case 0:return u;case 1:return`${i}/${u}`;default:return`${i}#${u}`}},"")},Bu={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},CE=e=>({applyToStack:t=>{t.add(Gu(e),Bu)}})});var si=c(()=>{"use strict";En();oi()});var Ye,ir=c(()=>{"use strict";Ye=e=>typeof e=="string"&&(e.startsWith("fips-")||e.endsWith("-fips"))});var ar,ii=c(()=>{"use strict";ir();ar=e=>Ye(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e});var VE,ai=c(()=>{"use strict";ii();ir();VE=e=>{let{region:t,useFipsEndpoint:r}=e;if(!t)throw new Error("Region is missing");return m(l({},e),{region:async()=>{if(typeof t=="string")return ar(t);let n=await t();return ar(n)},useFipsEndpoint:async()=>{let n=typeof t=="string"?t:await t();return Ye(n)?!0:typeof r!="function"?Promise.resolve(!!r):r()}})}});var Q,ci=c(()=>{"use strict";Q=(e,t,r)=>{if(t in e){if(e[t]==="true")return!0;if(e[t]==="false")return!1;throw new Error(`Cannot load ${r} "${t}". Expected "true" or "false", got ${e[t]}.`)}}});var ui=c(()=>{"use strict"});var B,fi=c(()=>{"use strict";B=function(e){return e.ENV="env",e.CONFIG="shared config entry",e}(B||{})});var cr=c(()=>{"use strict";ci();ui();fi()});var qu,zu,ZE,pi=c(()=>{"use strict";cr();qu="AWS_USE_DUALSTACK_ENDPOINT",zu="use_dualstack_endpoint",ZE={environmentVariableSelector:e=>Q(e,qu,B.ENV),configFileSelector:e=>Q(e,zu,B.CONFIG),default:!1}});var Wu,Yu,ty,di=c(()=>{"use strict";cr();Wu="AWS_USE_FIPS_ENDPOINT",Yu="use_fips_endpoint",ty={environmentVariableSelector:e=>Q(e,Wu,B.ENV),configFileSelector:e=>Q(e,Yu,B.CONFIG),default:!1}});var li=c(()=>{"use strict";k()});var gi=c(()=>{"use strict"});var mi=c(()=>{"use strict";k();gi()});var hi=c(()=>{"use strict";pi();di();li();mi()});var Xu,ju,Ei,Ey,yi=c(()=>{"use strict";Xu="AWS_REGION",ju="region",Ei={environmentVariableSelector:e=>e[Xu],configFileSelector:e=>e[ju],default:()=>{throw new Error("Region is missing")}},Ey={preferredFile:"credentials"}});var Ri=c(()=>{"use strict";yi();ai()});var xi=c(()=>{"use strict"});var Ai=c(()=>{"use strict"});var Ti=c(()=>{"use strict"});var Si=c(()=>{"use strict"});var wi=c(()=>{"use strict"});var Ni=c(()=>{"use strict"});var _i=c(()=>{"use strict";Ti();Si();wi();Ni()});var Ii=c(()=>{"use strict";xi();Ai();_i()});var Oi=c(()=>{"use strict";hi();Ri();Ii()});function Ku(e){return t=>async r=>{let n=r.request;if(R.isInstance(n)){let{body:o,headers:s}=n;if(o&&Object.keys(s).map(i=>i.toLowerCase()).indexOf(bi)===-1)try{let i=e(o);n.headers=m(l({},n.headers),{[bi]:String(i)})}catch{}}return t(m(l({},r),{request:n}))}}var bi,Qu,zy,Zu=c(()=>{"use strict";N();bi="content-length";Qu={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},zy=e=>({applyToStack:t=>{t.add(Ku(e.bodyLengthChecker),Qu)}})});var Ci,Ju,ef,tf,rf,nf,Pi=c(()=>{"use strict";Ci=async e=>{let t=e?.Bucket||"";if(typeof e.Bucket=="string"&&(e.Bucket=t.replace(/#/g,encodeURIComponent("#")).replace(/\?/g,encodeURIComponent("?"))),nf(t)){if(e.ForcePathStyle===!0)throw new Error("Path-style addressing cannot be used with ARN buckets")}else(!rf(t)||t.indexOf(".")!==-1&&!String(e.Endpoint).startsWith("http:")||t.toLowerCase()!==t||t.length<3)&&(e.ForcePathStyle=!0);return e.DisableMultiRegionAccessPoints&&(e.disableMultiRegionAccessPoints=!0,e.DisableMRAP=!0),e},Ju=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,ef=/(\d+\.){3}\d+/,tf=/\.\./,rf=e=>Ju.test(e)&&!ef.test(e)&&!tf.test(e),nf=e=>{let[t,r,n,,,o]=e.split(":"),s=t==="arn"&&e.split(":").length>=6,i=!!(s&&r&&n&&o);if(s&&!i)throw new Error(`Invalid ARN: ${e} was an invalid ARN.`);return i}});var vi=c(()=>{"use strict";Pi()});var Mi,ki=c(()=>{"use strict";Mi=(e,t,r)=>{let n=async()=>{let o=r[e]??r[t];return typeof o=="function"?o():o};return e==="credentialScope"||t==="CredentialScope"?async()=>{let o=typeof r.credentials=="function"?await r.credentials():r.credentials;return o?.credentialScope??o?.CredentialScope}:e==="accountId"||t==="AccountId"?async()=>{let o=typeof r.credentials=="function"?await r.credentials():r.credentials;return o?.accountId??o?.AccountId}:e==="endpoint"||t==="endpoint"?async()=>{let o=await n();if(o&&typeof o=="object"){if("url"in o)return o.url.href;if("hostname"in o){let{protocol:s,hostname:i,port:u,path:a}=o;return`${s}//${i}${u?":"+u:""}${a}`}}return o}:n}});var Ui,$i,Di,Fi=c(()=>{"use strict";Ka();Ui="AWS_ENDPOINT_URL",$i="endpoint_url",Di=e=>({environmentVariableSelector:t=>{let r=e.split(" ").map(s=>s.toUpperCase()),n=t[[Ui,...r].join("_")];if(n)return n;let o=t[Ui];if(o)return o},configFileSelector:(t,r)=>{if(r&&t.services){let o=r[["services",t.services].join(at)];if(o){let s=e.split(" ").map(u=>u.toLowerCase()),i=o[[s.join("_"),$i].join(at)];if(i)return i}}let n=t[$i];if(n)return n},default:void 0})});var Xe,ur=c(()=>{"use strict";Lr();Fi();Xe=async e=>ie(Di(e??""))()});var je,Ke=c(()=>{"use strict";Qa();je=e=>typeof e=="object"?"url"in e?ct(e.url):e:ct(e)});var Li,of,fr=c(()=>{"use strict";vi();ki();ur();Ke();Li=async(e,t,r,n)=>{if(!r.endpoint){let i;r.serviceConfiguredEndpoint?i=await r.serviceConfiguredEndpoint():i=await Xe(r.serviceId),i&&(r.endpoint=()=>Promise.resolve(je(i)))}let o=await of(e,t,r);if(typeof r.endpointProvider!="function")throw new Error("config.endpointProvider is not set.");return r.endpointProvider(o,n)},of=async(e,t,r)=>{let n={},o=t?.getEndpointParameterInstructions?.()||{};for(let[s,i]of Object.entries(o))switch(i.type){case"staticContextParams":n[s]=i.value;break;case"contextParams":n[s]=e[i.name];break;case"clientContextParams":case"builtInParams":n[s]=await Mi(i.name,s,r)();break;default:throw new Error("Unrecognized endpoint parameter instruction: "+JSON.stringify(i))}return Object.keys(o).length===0&&Object.assign(n,r),String(r.serviceId).toLowerCase()==="s3"&&await Ci(n),n}});var Hi,pr=c(()=>{"use strict";ce();k();fr();Hi=({config:e,instructions:t})=>(r,n)=>async o=>{e.endpoint&&sn(n,"ENDPOINT_OVERRIDE","N");let s=await Li(o.input,{getEndpointParameterInstructions(){return t}},l({},e),n);n.endpointV2=s,n.authSchemes=s.properties?.authSchemes;let i=n.authSchemes?.[0];if(i){n.signing_region=i.signingRegion,n.signing_service=i.signingName;let a=X(n)?.selectedHttpAuthScheme?.httpAuthOption;a&&(a.signingProperties=Object.assign(a.signingProperties||{},{signing_region:i.signingRegion,signingRegion:i.signingRegion,signing_service:i.signingName,signingName:i.signingName,signingRegionSet:i.signingRegionSet},i.properties))}return r(l({},o))}});var sf,ER,Vi=c(()=>{"use strict";dt();pr();sf={step:"serialize",tags:["ENDPOINT_PARAMETERS","ENDPOINT_V2","ENDPOINT"],name:"endpointV2Middleware",override:!0,relation:"before",toMiddleware:ae.name},ER=(e,t)=>({applyToStack:r=>{r.addRelativeTo(Hi({config:e,instructions:t}),sf)}})});var TR,Gi=c(()=>{"use strict";k();ur();Ke();TR=e=>{let t=e.tls??!0,{endpoint:r}=e,n=r!=null?async()=>je(await I(r)()):void 0,o=!!r,s=m(l({},e),{endpoint:n,tls:t,isCustomEndpoint:o,useDualstackEndpoint:I(e.useDualstackEndpoint??!1),useFipsEndpoint:I(e.useFipsEndpoint??!1)}),i;return s.serviceConfiguredEndpoint=async()=>(e.serviceId&&!i&&(i=Xe(e.serviceId)),i),s}});var Bi=c(()=>{"use strict";fr();Ke()});var qi=c(()=>{"use strict"});var af=c(()=>{"use strict";Bi();pr();Vi();Gi();qi()});var M,q,zi,Qe=c(()=>{"use strict";M=function(e){return e.STANDARD="standard",e.ADAPTIVE="adaptive",e}(M||{}),q=3,zi=M.STANDARD});var Wi,Yi,Xi,ji,Ki=c(()=>{"use strict";Wi=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],Yi=["TimeoutError","RequestTimeout","RequestTimeoutException"],Xi=[500,502,503,504],ji=["ECONNRESET","ECONNREFUSED","EPIPE","ETIMEDOUT"]});var cf,Z,xe,Qi,Ae=c(()=>{"use strict";Ki();cf=e=>e.$metadata?.clockSkewCorrected,Z=e=>e.$metadata?.httpStatusCode===429||Wi.includes(e.name)||e.$retryable?.throttling==!0,xe=(e,t=0)=>cf(e)||Yi.includes(e.name)||ji.includes(e?.code||"")||Xi.includes(e.$metadata?.httpStatusCode||0)||e.cause!==void 0&&t<=10&&xe(e.cause,t+1),Qi=e=>{if(e.$metadata?.httpStatusCode!==void 0){let t=e.$metadata.httpStatusCode;return 500<=t&&t<=599&&!xe(e)}return!1}});var J,dr=c(()=>{"use strict";Ae();J=class e{constructor(t){this.currentCapacity=0,this.enabled=!1,this.lastMaxRate=0,this.measuredTxRate=0,this.requestCount=0,this.lastTimestamp=0,this.timeWindow=0,this.beta=t?.beta??.7,this.minCapacity=t?.minCapacity??1,this.minFillRate=t?.minFillRate??.5,this.scaleConstant=t?.scaleConstant??.4,this.smooth=t?.smooth??.8;let r=this.getCurrentTimeInSeconds();this.lastThrottleTime=r,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}getCurrentTimeInSeconds(){return Date.now()/1e3}async getSendToken(){return this.acquireTokenBucket(1)}async acquireTokenBucket(t){if(this.enabled){if(this.refillTokenBucket(),t>this.currentCapacity){let r=(t-this.currentCapacity)/this.fillRate*1e3;await new Promise(n=>e.setTimeoutFn(n,r))}this.currentCapacity=this.currentCapacity-t}}refillTokenBucket(){let t=this.getCurrentTimeInSeconds();if(!this.lastTimestamp){this.lastTimestamp=t;return}let r=(t-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+r),this.lastTimestamp=t}updateClientSendingRate(t){let r;if(this.updateMeasuredRate(),Z(t)){let o=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=o,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),r=this.cubicThrottle(o),this.enableTokenBucket()}else this.calculateTimeWindow(),r=this.cubicSuccess(this.getCurrentTimeInSeconds());let n=Math.min(r,2*this.measuredTxRate);this.updateTokenBucketRate(n)}calculateTimeWindow(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))}cubicThrottle(t){return this.getPrecise(t*this.beta)}cubicSuccess(t){return this.getPrecise(this.scaleConstant*Math.pow(t-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)}enableTokenBucket(){this.enabled=!0}updateTokenBucketRate(t){this.refillTokenBucket(),this.fillRate=Math.max(t,this.minFillRate),this.maxCapacity=Math.max(t,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)}updateMeasuredRate(){let t=this.getCurrentTimeInSeconds(),r=Math.floor(t*2)/2;if(this.requestCount++,r>this.lastTxRateBucket){let n=this.requestCount/(r-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(n*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=r}}getPrecise(t){return parseFloat(t.toFixed(8))}};J.setTimeoutFn=setTimeout});var Ze,Je,ee=c(()=>{"use strict";Ze="amz-sdk-invocation-id",Je="amz-sdk-request"});var Zi,Ji=c(()=>{"use strict";ee();Zi=()=>{let e=100;return{computeNextBackoffDelay:n=>Math.floor(Math.min(2e4,Math.random()*2**n*e)),setDelayBase:n=>{e=n}}}});var lr,ea=c(()=>{"use strict";ee();lr=({retryDelay:e,retryCount:t,retryCost:r})=>({getRetryCount:()=>t,getRetryDelay:()=>Math.min(2e4,e),getRetryCost:()=>r})});var z,tt=c(()=>{"use strict";Qe();ee();Ji();ea();z=class{constructor(t){this.maxAttempts=t,this.mode=M.STANDARD,this.capacity=500,this.retryBackoffStrategy=Zi(),this.maxAttemptsProvider=typeof t=="function"?t:async()=>t}async acquireInitialRetryToken(t){return lr({retryDelay:100,retryCount:0})}async refreshRetryTokenForRetry(t,r){let n=await this.getMaxAttempts();if(this.shouldRetry(t,r,n)){let o=r.errorType;this.retryBackoffStrategy.setDelayBase(o==="THROTTLING"?500:100);let s=this.retryBackoffStrategy.computeNextBackoffDelay(t.getRetryCount()),i=r.retryAfterHint?Math.max(r.retryAfterHint.getTime()-Date.now()||0,s):s,u=this.getCapacityCost(o);return this.capacity-=u,lr({retryDelay:i,retryCount:t.getRetryCount()+1,retryCost:u})}throw new Error("No retry token available")}recordSuccess(t){this.capacity=Math.max(500,this.capacity+(t.getRetryCost()??1))}getCapacity(){return this.capacity}async getMaxAttempts(){try{return await this.maxAttemptsProvider()}catch{return console.warn(`Max attempts provider could not resolve. Using default of ${q}`),q}}shouldRetry(t,r,n){return t.getRetryCount()+1<n&&this.capacity>=this.getCapacityCost(r.errorType)&&this.isRetryableError(r.errorType)}getCapacityCost(t){return t==="TRANSIENT"?10:5}isRetryableError(t){return t==="THROTTLING"||t==="TRANSIENT"}}});var rt,sa=c(()=>{"use strict";Qe();dr();tt();rt=class{constructor(t,r){this.maxAttemptsProvider=t,this.mode=M.ADAPTIVE;let{rateLimiter:n}=r??{};this.rateLimiter=n??new J,this.standardRetryStrategy=new z(t)}async acquireInitialRetryToken(t){return await this.rateLimiter.getSendToken(),this.standardRetryStrategy.acquireInitialRetryToken(t)}async refreshRetryTokenForRetry(t,r){return this.rateLimiter.updateClientSendingRate(r),this.standardRetryStrategy.refreshRetryTokenForRetry(t,r)}recordSuccess(t){this.rateLimiter.updateClientSendingRate({}),this.standardRetryStrategy.recordSuccess(t)}}});var ia=c(()=>{"use strict";ee();tt()});var aa=c(()=>{"use strict"});var H=c(()=>{"use strict";sa();ia();dr();tt();Qe();ee();aa()});var ca,ua,gx,mx,uf,ff,hx,fa=c(()=>{"use strict";k();H();ca="AWS_MAX_ATTEMPTS",ua="max_attempts",gx={environmentVariableSelector:e=>{let t=e[ca];if(!t)return;let r=parseInt(t);if(Number.isNaN(r))throw new Error(`Environment variable ${ca} mast be a number, got "${t}"`);return r},configFileSelector:e=>{let t=e[ua];if(!t)return;let r=parseInt(t);if(Number.isNaN(r))throw new Error(`Shared config file entry ${ua} mast be a number, got "${t}"`);return r},default:q},mx=e=>{let{retryStrategy:t}=e,r=I(e.maxAttempts??q);return m(l({},e),{maxAttempts:r,retryStrategy:async()=>t||(await I(e.retryMode)()===M.ADAPTIVE?new rt(r):new z(r))})},uf="AWS_RETRY_MODE",ff="retry_mode",hx={environmentVariableSelector:e=>e[uf],configFileSelector:e=>e[ff],default:zi}});import pf from"crypto";function mr(){return nt>ot.length-16&&(pf.randomFillSync(ot),nt=0),ot.slice(nt,nt+=16)}var ot,nt,pa=c(()=>{"use strict";ot=new Uint8Array(256),nt=ot.length});function da(e,t=0){return T[e[t+0]]+T[e[t+1]]+T[e[t+2]]+T[e[t+3]]+"-"+T[e[t+4]]+T[e[t+5]]+"-"+T[e[t+6]]+T[e[t+7]]+"-"+T[e[t+8]]+T[e[t+9]]+"-"+T[e[t+10]]+T[e[t+11]]+T[e[t+12]]+T[e[t+13]]+T[e[t+14]]+T[e[t+15]]}var T,la=c(()=>{"use strict";T=[];for(let e=0;e<256;++e)T.push((e+256).toString(16).slice(1))});import df from"crypto";var hr,ga=c(()=>{"use strict";hr={randomUUID:df.randomUUID}});function lf(e,t,r){if(hr.randomUUID&&!t&&!e)return hr.randomUUID();e=e||{};let n=e.random||(e.rng||mr)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){r=r||0;for(let o=0;o<16;++o)t[r+o]=n[o];return t}return da(n)}var Er,ma=c(()=>{"use strict";ga();pa();la();Er=lf});var ha=c(()=>{"use strict";ma()});import{Readable as gf}from"stream";var Ea,ya=c(()=>{"use strict";Ea=e=>e?.body instanceof gf||typeof ReadableStream<"u"&&e?.body instanceof ReadableStream});var yr,Rr=c(()=>{"use strict";yr=e=>e instanceof Error?e:e instanceof Object?Object.assign(new Error,e):typeof e=="string"?new Error(e):new Error(`AWS SDK error wrapper for ${e}`)});var mf,hf,Ef,yf,Rf,Hx,xf,Ra=c(()=>{"use strict";N();Ae();Ne();H();ha();ya();Rr();mf=e=>(t,r)=>async n=>{let o=await e.retryStrategy(),s=await e.maxAttempts();if(hf(o)){o=o;let i=await o.acquireInitialRetryToken(r.partition_id),u=new Error,a=0,f=0,{request:p}=n,d=R.isInstance(p);for(d&&(p.headers[Ze]=Er());;)try{d&&(p.headers[Je]=`attempt=${a+1}; max=${s}`);let{response:g,output:h}=await t(n);return o.recordSuccess(i),h.$metadata.attempts=a+1,h.$metadata.totalRetryDelay=f,{response:g,output:h}}catch(g){let h=Ef(g);if(u=yr(g),d&&Ea(p))throw(r.logger instanceof Fr?console:r.logger)?.warn("An error was encountered in a non-retryable streaming request."),u;try{i=await o.refreshRetryTokenForRetry(i,h)}catch{throw u.$metadata||(u.$metadata={}),u.$metadata.attempts=a+1,u.$metadata.totalRetryDelay=f,u}a=i.getRetryCount();let E=i.getRetryDelay();f+=E,await new Promise(S=>setTimeout(S,E))}}else return o=o,o?.mode&&(r.userAgent=[...r.userAgent||[],["cfg/retry-mode",o.mode]]),o.retry(t,n)},hf=e=>typeof e.acquireInitialRetryToken<"u"&&typeof e.refreshRetryTokenForRetry<"u"&&typeof e.recordSuccess<"u",Ef=e=>{let t={error:e,errorType:yf(e)},r=xf(e.$response);return r&&(t.retryAfterHint=r),t},yf=e=>Z(e)?"THROTTLING":xe(e)?"TRANSIENT":Qi(e)?"SERVER_ERROR":"CLIENT_ERROR",Rf={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},Hx=e=>({applyToStack:t=>{t.add(mf(e),Rf)}}),xf=e=>{if(!oe.isInstance(e))return;let t=Object.keys(e.headers).find(s=>s.toLowerCase()==="retry-after");if(!t)return;let r=e.headers[t],n=Number(r);return Number.isNaN(n)?new Date(r):new Date(n*1e3)}});var xa=c(()=>{"use strict";H()});var xr=c(()=>{"use strict";H()});var Ar=c(()=>{"use strict";Ae()});var Tr=c(()=>{"use strict";N();Ae();H();xa();xr();Ar();Rr()});var Aa=c(()=>{"use strict";H();Tr()});var Ta=c(()=>{"use strict";N();H()});var Af=c(()=>{"use strict";Aa();Tr();fa();xr();Ta();Ar();Ra()});var Sr,wr=c(()=>{"use strict";Sr={isCrtAvailable:!1}});var Sa,wa=c(()=>{"use strict";wr();Sa=()=>Sr.isCrtAvailable?["md/crt-avail"]:null});import{platform as Tf,release as Sf}from"os";import{env as Na,versions as wf}from"process";var bA,_a=c(()=>{"use strict";wa();wr();bA=({serviceId:e,clientVersion:t})=>async r=>{let n=[["aws-sdk-js",t],["ua","2.1"],[`os/${Tf()}`,Sf()],["lang/js"],["md/nodejs",`${wf.node}`]],o=Sa();o&&n.push(o),e&&n.push([`api/${e}`,t]),Na.AWS_EXECUTION_ENV&&n.push([`exec-env/${Na.AWS_EXECUTION_ENV}`]);let s=await r?.userAgentAppId?.();return s?[...n,[`app/${s}`]]:[...n]}});var Nf,_f,MA,Ia=c(()=>{"use strict";si();Nf="AWS_SDK_UA_APP_ID",_f="sdk-ua-app-id",MA={environmentVariableSelector:e=>e[Nf],configFileSelector:e=>e[_f],default:mt}});var If=c(()=>{"use strict";_a();Ia()});import{Buffer as Of}from"buffer";import{createHash as bf,createHmac as Cf}from"crypto";function ba(e,t){return Of.isBuffer(e)?e:typeof e=="string"?Pr(e,t):ArrayBuffer.isView(e)?st(e.buffer,e.byteOffset,e.byteLength):st(e)}var Oa,Pf=c(()=>{"use strict";Xa();se();Oa=class{constructor(t,r){this.algorithmIdentifier=t,this.secret=r,this.reset()}update(t,r){this.hash.update(v(ba(t,r)))}digest(){return Promise.resolve(this.hash.digest())}reset(){this.hash=this.secret?Cf(this.algorithmIdentifier,ba(this.secret)):bf(this.algorithmIdentifier)}}});import{fstatSync as vf,lstatSync as Mf}from"fs";var qA,Ca=c(()=>{"use strict";qA=e=>{if(!e)return 0;if(typeof e=="string")return Buffer.byteLength(e);if(typeof e.byteLength=="number")return e.byteLength;if(typeof e.size=="number")return e.size;if(typeof e.start=="number"&&typeof e.end=="number")return e.end+1-e.start;if(typeof e.path=="string"||Buffer.isBuffer(e.path))return Mf(e.path).size;if(typeof e.fd=="number")return vf(e.fd).size;throw new Error(`Body Length computation failed for ${e}`)}});var kf=c(()=>{"use strict";Ca()});var Pa,Nr,_r,va,Ma,ka,Ua=c(()=>{"use strict";Pa="AWS_EXECUTION_ENV",Nr="AWS_REGION",_r="AWS_DEFAULT_REGION",va="AWS_EC2_METADATA_DISABLED",Ma=["in-region","cross-region","mobile","standard","legacy"],ka="/latest/meta-data/placement/region"});var Uf,$f,$a,Da=c(()=>{"use strict";Uf="AWS_DEFAULTS_MODE",$f="defaults_mode",$a={environmentVariableSelector:e=>e[Uf],configFileSelector:e=>e[$f],default:"legacy"}});var tT,Df,Ff,Fa=c(()=>{"use strict";Oi();Lr();br();Ua();Da();tT=({region:e=ie(Ei),defaultsMode:t=ie($a)}={})=>Or(async()=>{let r=typeof t=="function"?await t():t;switch(r?.toLowerCase()){case"auto":return Df(e);case"in-region":case"cross-region":case"mobile":case"standard":case"legacy":return Promise.resolve(r?.toLocaleLowerCase());case void 0:return Promise.resolve("legacy");default:throw new Error(`Invalid parameter for "defaultsMode", expect ${Ma.join(", ")}, got ${r}`)}}),Df=async e=>{if(e){let t=typeof e=="function"?await e():e,r=await Ff();return r?t===r?"in-region":"cross-region":"standard"}return"standard"},Ff=async()=>{if(process.env[Pa]&&(process.env[Nr]||process.env[_r]))return process.env[Nr]??process.env[_r];if(!process.env[va])try{let{getInstanceMetadataEndpoint:e,httpRequest:t}=await import("./chunk-2K6JVJT2.mjs"),r=await e();return(await t(m(l({},r),{path:ka}))).toString()}catch{}}});var Lf=c(()=>{"use strict";Fa()});var iT,aT,La=c(()=>{"use strict";iT=e=>{let t=async()=>{if(e.region===void 0)throw new Error("Region is missing from runtimeConfig");let r=e.region;return typeof r=="string"?r:r()};return{setRegion(r){t=r},region(){return t}}},aT=e=>({region:e.region()})});var Ha=c(()=>{"use strict"});var Ir=c(()=>{"use strict"});var Va=c(()=>{"use strict";Ir()});var Ga=c(()=>{"use strict";Va();Ir()});var Ba=c(()=>{"use strict";Ha();Ga()});var Vf=c(()=>{"use strict";La();Ba()});export{Bf as a,ec as b,zf as c,nc as d,Qf as e,cc as f,X as g,I as h,k as i,pp as j,yp as k,dt as l,Pp as m,hc as n,Kr as o,fn as p,ce as q,Nd as r,yn as s,pe as t,Tc as u,K as v,Ic as w,bo as x,Pt as y,Ch as z,Pc as A,Yh as B,Xh as C,Hu as D,fE as E,Ks as F,CE as G,si as H,ZE as I,ty as J,Ei as K,Ey as L,VE as M,Oi as N,zy as O,Zu as P,ER as Q,TR as R,af as S,zi as T,H as U,gx as V,mx as W,hx as X,Hx as Y,Af as Z,bA as _,MA as $,If as aa,Oa as ba,Pf as ca,qA as da,kf as ea,tT as fa,Lf as ga,iT as ha,aT as ia,Vf as ja};
