import { createRequire } from 'node:module';
globalThis['require'] ??= createRequire(import.meta.url);
import{b as E,f as N,i as G}from"./chunk-DUU7IDJR.mjs";import{b as m,d as C,e as F,f as S,g as a}from"./chunk-WHYOH54Q.mjs";import{a as s,d as y,e as i}from"./chunk-YJ4N4I6Q.mjs";function p(o){try{let r=new Set(Array.from(o.match(/([A-Z_]){3,}/g)??[]));return r.delete("CONFIG"),r.delete("CONFIG_PREFIX_SEPARATOR"),r.delete("ENV"),[...r].join(", ")}catch{return o}}var l=i(()=>{"use strict"});var x,v=i(()=>{"use strict";a();l();x=(o,r)=>async()=>{try{let e=o(process.env);if(e===void 0)throw new Error;return e}catch(e){throw new m(e.message||`Not found in ENV: ${p(o.toString())}`,{logger:r})}}});var P,A=i(()=>{"use strict";a();G();l();P=(o,t={})=>{var n=t,{preferredFile:r="config"}=n,e=y(n,["preferredFile"]);return async()=>{let f=E(e),{configFile:c,credentialsFile:d}=await N(e),g=d[f]||{},h=c[f]||{},$=r==="config"?s(s({},g),h):s(s({},h),g);try{let w=o($,r==="config"?c:d);if(w===void 0)throw new Error;return w}catch(u){throw new m(u.message||`Not found in config files w/ profile [${f}]: ${p(o.toString())}`,{logger:e.logger})}}}});var Q,I,R=i(()=>{"use strict";a();Q=o=>typeof o=="function",I=o=>Q(o)?async()=>await o():F(o)});var oo,U=i(()=>{"use strict";a();v();A();R();oo=({environmentVariableSelector:o,configFileSelector:r,default:e},t={})=>S(C(x(o),P(r,t),I(e)))});var T=i(()=>{"use strict";U()});function O(o){let r={};if(o=o.replace(/^\?/,""),o)for(let e of o.split("&")){let[t,n=null]=e.split("=");t=decodeURIComponent(t),n&&(n=decodeURIComponent(n)),t in r?Array.isArray(r[t])?r[t].push(n):r[t]=[r[t],n]:r[t]=n}return r}var _=i(()=>{"use strict"});var j,k=i(()=>{"use strict";_();j=o=>{if(typeof o=="string")return j(new URL(o));let{hostname:r,pathname:e,port:t,protocol:n,search:f}=o,c;return f&&(c=O(f)),{hostname:r,port:t?parseInt(t):void 0,protocol:n,path:e,query:c}}});export{oo as a,T as b,j as c,k as d};
